angular.module('seroApp').run(['$templateCache', function($templateCache) {
  'use strict';

  $templateCache.put('partials/about.html',
    "<div class=top-header><h1>EIA Database</h1><p class=lead>Current version: <span app-version></span></p></div>"
  );


  $templateCache.put('partials/advanced.html',
    "<div class=top-header><h1>Advanced</h1></div><div class=advanced><div ui-grid=gridOptions ui-grid-edit ui-grid-row-edit ui-grid-cellnav ui-grid-resize-columns class=grid></div></div>"
  );


  $templateCache.put('partials/home.html',
    "<div class=top-header><h1>EIA Database</h1><p class=lead>The EIA database contains registrations of practitioners, organisations, projects with documents, certificates and inspections.</p></div>"
  );


  $templateCache.put('partials/login.html',
    "<div class=top-header><h1>Not Logged In</h1><p class=lead>You need to be logged in in order to use this application.</p></div><div ng-controller=LoginController><div class=row><div class=col-md-6><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Login Needed </h2></div><div class=panel-body><form class=form-horizontal role=form name=loginForm novalidation ng-submit=login()><div class=form-group ng-show=loginMessages><ul><li ng-repeat=\"message in loginMessages\">{{message}}</li></ul></div><div class=form-group><label class=\"col-md-4 control-label\">Initials</label><div class=col-md-6><input ng-required=true class=form-control name=initials ng-model=loginData.initials autofocus></div></div><div class=form-group><label class=\"col-md-4 control-label\">Password</label><div class=col-md-6><input type=password ng-required=true class=form-control name=password ng-model=loginData.password></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><div class=checkbox><label><input type=checkbox name=remember ng-model=loginData.remember> Remember Me</label></div></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><button type=submit class=\"btn btn-primary\" ng-disabled=\"loginForm.$invalid || loginFormDisabled\">Login</button> <a class=\"btn btn-link\" ng-href=#/password/send>Forgot Your Password?</a></div></div></form></div></div></div></div></div>"
  );


  $templateCache.put('partials/passwordReset.html',
    "<div class=top-header><h1>Reset Password</h1><p class=lead>This is where you can set a new password.</p></div><div class=row><div class=col-md-6><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Reset Password </h2></div><div class=panel-body><form class=form-horizontal role=form name=resetForm novalidation ng-submit=reset()><div class=form-group ng-show=resetMessages><ul><li ng-repeat=\"message in resetMessages\">{{message}}</li></ul></div><div class=form-group><label class=\"col-md-4 control-label\">E-Mail Address</label><div class=col-md-6><input type=email ng-required=true class=form-control name=email ng-model=resetData.email></div></div><div class=form-group><label class=\"col-md-4 control-label\">Password</label><div class=col-md-6><input type=password ng-required=true class=form-control name=password ng-model=resetData.password></div></div><div class=form-group><label class=\"col-md-4 control-label\">Confirm Password</label><div class=col-md-6><input type=password ng-required=true class=form-control name=password_confirmation ng-model=resetData.password_confirmation></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><button type=submit class=\"btn btn-primary\" ng-disabled=\"resetForm.$invalid || resetFormDisabled\">Reset Password</button></div></div></form></div></div></div></div>"
  );


  $templateCache.put('partials/passwordSend.html',
    "<div class=top-header><h1>Send Password Reset Link</h1><p class=lead>This is where you can start the process of setting a new password.</p></div><div class=row><div class=col-md-6><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Reset Password </h2></div><div class=panel-body><form class=form-horizontal role=form name=sendForm novalidation ng-submit=send()><div class=form-group ng-show=sendMessages><ul><li ng-repeat=\"message in sendMessages\">{{message}}</li></ul></div><div class=form-group><label class=\"col-md-4 control-label\">E-Mail Address</label><div class=col-md-6><input type=email ng-required=true class=form-control name=email ng-model=sendData.email></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><button type=submit class=\"btn btn-primary\" ng-disabled=\"sendForm.$invalid || sendFormDisabled\">Send Password Reset Link</button></div></div></form></div></div></div></div>"
  );


  $templateCache.put('partials/practitioners.html',
    "<div class=top-header><h1>Practitioners</h1><p class=lead>Information on practitioners and certificates for EIA and audits. When you click on a line, additional information will be shown. Green squares under certificate shows what a practitioner are certified for the current year.<br>You can filter the information in the query field.</p></div><div class=practitioners><div class=row><div class=col-md-8><form class=form-inline role=form><div class=form-group><label class=sr-only for=filterText>Filter</label><input class=\"form-control input-filter\" id=filterText placeholder=\"Filter (try anything, e.g. name, city, eia or audit)\" ng-model=filterText></div><span>Count: {{(practitioners | filter:filterText).length}}</span></form></div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=newPractitioner() ng-hide=!canSave()>New practitioner</button></div><div class=col-md-12><hr></div></div><div class=\"row header visible-md visible-lg\"><div class=col-md-3>Practitioner</div><div class=col-md-3>Organisation name</div><div class=col-md-3>Address</div><div class=col-md-1>City</div><div class=col-md-2>Certificates</div></div><div class=\"row practitioner\" ng-repeat=\"p in practitioners | filter:filterText\"><div class=col-md-12><form role=form name=form novalidation><div class=\"row master\" ng-click=toggleRow(p); ng-class=\"{selected: current==p, notvalid: form.$invalid}\"><div class=col-md-3 title=\"id={{p.id}}\">{{p.person}}</div><div class=col-md-3>{{p.organisation_name}}</div><div class=\"col-md-3 hidden-xs\">{{p.visiting_address}}</div><div class=\"col-md-1 hidden-xs\">{{p.city}}</div><div class=col-md-2><span class=\"label certificate-label\" ng-class=\"hasEia(p) ? 'label-success' :'label-default noCertificate'\">EIA</span> <span class=\"label certificate-label\" ng-class=\"hasAudit(p) ? 'label-success' :'label-default noCertificate'\">EA</span> <span class=\"label certificate-label\" ng-class=\"hasPartnership(p) ? 'label-success' :'label-default noCertificate'\">EP</span> <button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master ng-show=\"current!=p\">{{canSave() ? \"Edit\" : \"Open\"}}</button> <button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master ng-show=\"current==p\">Close</button> <span class=\"loader pull-right\" ng-show=\"loading==p\"></span></div></div><div class=\"row detail\" ng-if=\"current==p\" ng-init=setCurrentForm(form)><div class=col-md-12><div class=row><div class=col-md-4><div class=form-group><label for=person>Practitioner</label><input ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" id=person ng-model=\"p.person\"></div></div><div class=col-md-2><div class=form-group><label for=tin>TIN</label><input ng-readonly=!canSave() integer class=\"form-control input-sm\" id=tin ng-model=\"p.tin\"></div></div><div class=col-md-6><div class=form-group><label for=organisation_name>Organisation Name</label><input ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" id=organisation_name ng-model=\"p.organisation_name\"></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=visiting_address>Address</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=visiting_address ng-model=\"p.visiting_address\"></div></div><div class=col-md-2><div class=form-group><label for=box_no>P.O. Box</label><input ng-readonly=!canSave() integer ng-required=true class=\"form-control input-sm\" id=box_no ng-model=\"p.box_no\"></div></div><div class=col-md-4><div class=form-group><label for=city>City</label><input ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" id=city ng-model=\"p.city\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=phone>Phone</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=phone ng-model=\"p.phone\"></div></div><div class=col-md-3><div class=form-group><label for=fax>Fax</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=fax ng-model=\"p.fax\"></div></div><div class=col-md-6><div class=form-group><label for=email>E-mail</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=email ng-model=\"p.email\"></div></div></div><div class=row><div class=col-md-4><div class=form-group><label for=qualifications>Qualifications</label><textarea ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" rows=3 id=qualifications ng-model=p.qualifications></textarea></div></div><div class=col-md-4><div class=form-group><label for=expertise>Expertise</label><textarea ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" rows=3 id=expertise ng-model=p.expertise></textarea></div></div><div class=col-md-4><div class=form-group><label for=email>Remarks</label><textarea ng-readonly=!canSave() class=\"form-control input-sm\" rows=3 id=remarks ng-model=p.remarks></textarea></div></div></div><div class=row><div class=col-md-8><h4>Certificates</h4></div><div class=col-md-4><button type=button class=\"btn btn-danger btn-sm pull-right\" ng-click=\"deletePractitioner($index, p)\" ng-hide=!canSave()>{{p.is_new ? \"Cancel new practitioner\" : \"Delete practitioner\"}}</button></div></div><div class=\"row certificates\"><div class=col-md-12><table class=table><thead><tr><th>Year</th><th>Date of entry</th><th>Type of certificate</th><th>Certificate number</th><th>Conditions</th><th>Certificate cancelled?</th><th>Remarks</th><th><button type=button class=\"btn btn-success btn-sm btn-add-certificate\" ng-click=newCertificate(p) ng-hide=!canSave()>New</button></th></tr></thead><tbody><tr ng-repeat=\"c in p.practitioner_certificates\" ng-hide=c.is_deleted><td><input ng-readonly=!canSave() ng-required=true integer min={{certificateYearMin}} max={{certificateYearMax}} class=\"form-control input-sm input-year\" id=c_year ng-model=\"c.year\"></td><td><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-readonly=!canSave() class=\"form-control input-sm input-date\" ng-model=c.date_of_entry data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=!canSave() class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></td><td><select ui-select2 ng-disabled=!canSave() id=c_cert_type ng-required=true class=\"form-control input-sm\" ng-model=c.cert_type><option ng-repeat=\"v in valuelists.practitionertype\" value={{v.id}}>{{v.description1}}</option></select></td><td><input ng-readonly=!canSave() id=c_cert_no certificate-number ng-required=true class=\"form-control input-sm\" ng-model=\"c.cert_no\"></td><td><select ui-select2 ng-disabled=!canSave() ng-required=true id=c_conditions class=\"form-control input-sm input-conditions\" ng-model=c.conditions><option ng-repeat=\"v in valuelists.practitionermembertype\" value={{v.id}}>{{v.description2}}</option></select></td><td><input type=checkbox ng-disabled=!canSave() class=\"checkbox-small form-control input-sm\" id=c_is_cancelled ng-model=fake ng-checked=c.is_cancelled ng-click=\"c.is_cancelled = !c.is_cancelled\"></td><td><input ng-readonly=!canSave() class=\"form-control input-sm input-remarks warningfont\" id=c_remarks ng-model=\"c.remarks\"></td><td><button type=button ng-hide=!canSave() class=\"btn btn-danger btn-sm btn-delete-certificate\" ng-click=\"deleteCertificate($index, p, c)\">{{c.is_new ? \"Cancel\" : \"Delete\"}}</button></td></tr></tbody></table></div></div></div></div></form></div></div></div>"
  );


  $templateCache.put('partials/projectAuditsInspections.html',
    "<div class=project-auditsandinspections><div class=row><div class=col-md-6><div class=element-dropdown dropdown ng-show=data.auditsinspections.length><button class=\"btn btn-default dropdown-toggle\" type=button dropdown-toggle ng-disabled=isLoading()>{{data.getAuditInspectionSummary()}} <span class=caret></span></button><ul class=dropdown-menu role=menu><li ng-repeat=\"ai in data.auditsinspections\" role=presentation><a role=menuitem ng-href=#/projects/{{data.project.id}}/auditsinspections/{{ai.id}}>{{data.getAuditInspectionSummary(ai)}}</a></li></ul></div></div><div class=col-md-6><div class=\"btn-group new-button pull-right\" dropdown auto-close=disabled is-open=newButton.isopen><button type=button class=\"btn btn-success\" dropdown-toggle ng-disabled=isLoading()>New Audit and Inspection <span class=caret></span></button><ul class=dropdown-menu role=menu><li role=menuitem><form role=form name=newButton.form novalidation><div class=rowzzz><div class=col-md-3><label for=newButton.year>Year</label><input integer id=newButton.year ng-required=true ng-model=newButton.year class=\"form-control input-sm\"></div><div class=col-md-6><label for=newButton.type>Type</label><select ui-select2 id=newButton.type class=\"form-control input-sm\" ng-required=true ng-model=newButton.type><option ng-repeat=\"v in valuelists.auditinspectiontype\" value={{v.id}}>{{v.description1}}</option></select></div><div class=col-md-3><label for=newButton.create>&nbsp;</label><button type=button class=\"btn btn-sm btn-primary use-button pull-right\" id=newButton.create ng-disabled=newButton.form.$invalid ng-click=newAuditInspection()>Create</button></div></div></form></li></ul></div></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isLoading()><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=\"hasAuditInspection() && !isLoading() && !newButton.isopen\"><div class=col-md-12><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title title=\"id={{data.auditinspection.id}}\">Audit and Inspection  <span class=\"loader pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.Loaded\">Last changed by {{data.auditinspection.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.auditinspection.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.auditinspection.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></h2></div><div class=panel-body><form role=form name=parts.auditinspection.form novalidation><div class=row><div class=col-md-3><div class=form-group><label for=year>Year</label><input integer ng-blur=saveCurrentAuditInspection() readonly class=\"form-control input-sm\" id=year ng-model=\"data.auditinspection.year\"></div></div><div class=col-md-3><div class=form-group><label for=type>Type</label><select ui-select2 id=type class=\"form-control input-sm\" ng-change=saveCurrentAuditInspection() ng-required=true ng-disabled=\"!auth.canSave('type')\" ng-model=data.auditinspection.type><option ng-repeat=\"v in valuelists.auditinspectiontype\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-4><div class=form-group><label for=users>Participants from NEMA</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('personnel')\" id=users class=\"form-control input-sm\" ng-model=data.auditinspection.user_ids><option ng-repeat=\"v in valuelists.officer\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-2><div class=form-group><label for=coordinated>Coordinated</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=coordinated ng-model=fake_coordinated ng-checked=data.auditinspection.coordinated ng-click=\"data.auditinspection.coordinated = !data.auditinspection.coordinated; saveCurrentAuditInspection()\" ng-readonly=\"!auth.canSave('coordinated')\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_carried_out>Date carried out</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_carried_out')\" id=date_carried_out class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_carried_out data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_inspection')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=days>Number of days</label><input integer ng-blur=saveCurrentAuditInspection() ng-required=true ng-readonly=\"!auth.canSave('days')\" class=\"form-control input-sm\" id=days ng-model=\"data.auditinspection.days\"></div></div><div class=col-md-4><div class=form-group><label for=external_participants>Participants from lead agencies, facilities etc.</label><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('external_participants')\" class=\"form-control input-sm\" id=external_participants ng-model=\"data.auditinspection.external_participants\"></div></div><div class=col-md-2><div class=form-group><label for=advance_notice>Advanced notice</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=advance_notice ng-model=fake_advance_notice ng-checked=data.auditinspection.advance_notice ng-click=\"data.auditinspection.advance_notice = !data.auditinspection.advance_notice; saveCurrentAuditInspection()\" ng-readonly=\"!auth.canSave('advance_notice')\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_action_taken>Date of action taken</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_action_taken')\" id=date_action_taken class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_action_taken data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_action_taken')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>Action taken letter</label><div class=uploaded-file ng-show=data.auditinspection.file_metadata_id><a ng-href={{downloadFileUrl(data.auditinspection.file_metadata_id)}} ng-show=data.auditinspection.action_taken_letter>{{data.auditinspection.action_taken_letter.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteActionTakenLetter() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" ngf-select=uploadActionTakenLetter($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadPattern}} ng-model=fake_action_taken_letter name=action_taken_letter ng-hide=data.auditinspection.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size=10MB>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=showUploadingFileActionTakenLetter><div class=file>{{actionTakenLetterFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{actionTakenLetterFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{actionTakenLetterFile.progress}}%\">{{actionTakenLetterFile.progress}}%</div></div></div><div class=errors ng-messages=parts.auditinspection.form.action_taken_letter.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-4><div class=form-group><label for=lead_agencies>Lead agencies</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('lead_agencies')\" id=lead_agencies class=\"form-control input-sm\" ng-model=data.auditinspection.leadagency_ids><option ng-repeat=\"v in valuelists.leadagency\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=action_taken>Action taken</label><select ui-select2 ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('action_taken')\" id=action_taken class=\"form-control input-sm\" ng-model=data.auditinspection.action_taken><option ng-repeat=\"v in valuelists.actiontaken\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3></div><div class=col-md-6><div class=form-group><label for=findings>Description of findings</label><textarea class=\"form-control input-sm\" rows=2 id=findings ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('findings')\" ng-model=data.auditinspection.findings></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=timeframe>Timeframe for correcting deviations</label><input integer class=\"form-control input-sm\" id=timeframe ng-blur=saveCurrentAuditInspection() ng-required=false ng-readonly=\"!auth.canSave('timeframe')\" ng-model=\"data.auditinspection.timeframe\"></div></div><div class=col-md-3><div class=form-group><label for=date_deadline>Deadline to correct deviations</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=true id=date_deadline class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_deadline data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=true class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=recommendations>Recommendations</label><textarea class=\"form-control input-sm\" rows=2 id=recommendations ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('recommendations')\" ng-model=data.auditinspection.recommendations></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_received>Date for receiving corrections</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_received')\" id=date_received class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_received data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_received')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=date_closing>Closing date</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_closing')\" id=date_closing class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_closing data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_closing')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=remarks>Remarks</label><textarea class=\"form-control input-sm\" rows=2 id=remarks ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('remarks')\" ng-model=data.auditinspection.remarks></textarea></div></div></div><div class=row><div class=col-md-6><div class=form-group><label>Documentation</label><div class=uploaded-files ng-show=data.auditinspection.documentation><div class=file ng-repeat=\"d in data.auditinspection.documentation\"><a ng-href={{downloadFileUrl(d.id)}}>{{d.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteDocumentation(d.id) ng-hide=\"!auth.canSave('delete')\">delete</button></div></div><div><button class=\"btn btn-sm btn-default\" ngf-select=uploadDocumentation($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadPattern}} ng-model=fake_documentation name=documentation ng-disabled=\"!auth.canSave('delete')\" ngf-max-size=10MB>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=showUploadingFileDocumentation><div class=file>{{documentationFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{documentationFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{documentationFile.progress}}%\">{{documentationFile.progress}}%</div></div></div><div class=errors ng-messages=parts.auditinspection.form.documentation.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-6><button type=button class=\"btn btn-danger btn-sm pull-right\" ng-click=deleteAuditInspection() ng-hide=\"!auth.canSave('delete')\">Delete Audit and Inspection</button></div></div></form></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectEiasPermits.html',
    "<div class=project-eiasandpermits><div class=row><div class=col-md-6><div class=element-dropdown dropdown ng-show=data.eiaspermits.length><button class=\"btn btn-default dropdown-toggle\" type=button dropdown-toggle ng-disabled=isLoading()>{{data.getEiaPermitSummary()}} <span class=caret></span></button><ul class=dropdown-menu role=menu><li ng-repeat=\"ep in data.eiaspermits\" role=presentation><a role=menuitem ng-href=#/projects/{{data.project.id}}/eiaspermits/{{ep.id}}>{{data.getEiaPermitSummary(ep)}}</a></li></ul></div></div><div class=col-md-6><button type=button class=\"btn btn-success pull-right\" ng-hide=\"!auth.canSave('new')\" ng-click=newEiaPermit() ng-disabled=isLoading()>New EIA and Permit</button></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isLoading()><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=\"hasEiaPermit() && !isLoading()\"><div class=col-md-12><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title title=\"id={{data.eiapermit.id}}\">EIA and Permit  <span class=\"loader pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.Loaded && !data.eiapermit.is_new\">Last changed by {{data.eiapermit.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.eiapermit.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.eiapermit.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></h2></div><div class=panel-body><form role=form name=parts.eiapermit.form novalidation><div class=row><div class=col-md-4><div class=form-group><label for=teamleader_id>Team leader</label><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('teamleader_id')\" id=teamleader_id class=\"form-control input-sm\" ng-model=data.eiapermit.teamleader_id><option ng-repeat=\"v in valuelists.teamleader\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-8><div class=form-group><label for=team_members>Team members</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('practitioner_id')\" id=team_members class=\"form-control input-sm\" ng-model=data.eiapermit.teammember_ids><option ng-repeat=\"v in valuelists.teammember\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=cost>Cost of the proposed development</label><div class=row><div class=col-md-6><input integer ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('cost')\" class=\"form-control input-sm\" id=cost ng-model=\"data.eiapermit.cost\"></div><div class=col-md-6><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('cost_currency')\" id=cost_currency class=\"form-control input-sm\" ng-model=data.eiapermit.cost_currency><option ng-repeat=\"v in valuelists.currency\" value={{v.id}}>{{v.description1}}</option></select></div></div></div></div><div class=col-md-3><div class=form-group><label for=status>Status</label><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('status')\" id=status class=\"form-control input-sm\" ng-model=data.eiapermit.status><option ng-repeat=\"v in valuelists.eiastatus\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=user_id>The Officer assigned</label><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('user_id')\" id=user_id class=\"form-control input-sm\" ng-model=data.eiapermit.user_id><option ng-repeat=\"v in valuelists.officer\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=inspection_recommended>Inspection before approval?</label><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('inspection_recommended')\" id=inspection_recommended class=\"form-control input-sm\" ng-model=data.eiapermit.inspection_recommended><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_inspection>Date of inspection</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_inspection')\" id=date_inspection class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_inspection data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_inspection')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=officer_recommend>Recommendations by reviewer</label><textarea ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('officer_recommend')\" class=\"form-control input-sm\" rows=2 id=officer_recommend ng-model=data.eiapermit.officer_recommend></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=fee>Expected fees</label><div class=row><div class=col-md-6><input decimal=2 ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('fee')\" class=\"form-control input-sm\" id=fee ng-model=\"data.eiapermit.fee\"></div><div class=col-md-6><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('fee_currency')\" id=fee_currency class=\"form-control input-sm\" ng-model=data.eiapermit.fee_currency><option ng-repeat=\"v in valuelists.currency\" value={{v.id}}>{{v.description1}}</option></select></div></div></div></div><div class=col-md-3><div class=form-group><label for=date_sent_ded_approval>Date sent for approval</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_sent_ded_approval')\" id=date_sent_ded_approval class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_sent_ded_approval data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_sent_ded_approval')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=decision>Decision taken</label><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('decision')\" id=decision class=\"form-control input-sm\" ng-model=data.eiapermit.decision><option ng-repeat=\"v in valuelists.decision\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_decision>Date for decision</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_decision')\" id=date_decision class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_decision data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_decision')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_fee_notification>Date of invoicing</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_fee_notification')\" id=date_fee_notification class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_fee_notification data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_fee_notification')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=date_fee_payed>Date invoice is payed</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_fee_payed')\" id=date_fee_payed class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_fee_payed data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_fee_payed')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=fee_receipt_no>Fee receipt number</label><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('fee_receipt_no')\" class=\"form-control input-sm\" id=fee_receipt_no ng-model=\"data.eiapermit.fee_receipt_no\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=designation>Signature on certificate</label><select ui-select2 ng-change=saveCurrentEiaPermit() ng-disabled=\"!auth.canSave('designation')\" id=designation class=\"form-control input-sm\" ng-model=data.eiapermit.designation><option ng-repeat=\"v in valuelists.executivedirector\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_certificate>Date on the certificate</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_certificate')\" id=date_certificate class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_certificate data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_certificate')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=certificate_no>Certificate number</label><input integer ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('certificate_no')\" class=\"form-control input-sm\" id=certificate_no ng-model=\"data.eiapermit.certificate_no\"></div></div><div class=col-md-3><div class=form-group><label for=date_cancelled>Certificate cancelled date</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('date_cancelled')\" id=date_cancelled class=\"form-control input-sm input-date\" ng-model=data.eiapermit.date_cancelled data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_cancelled')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=remarks>Remarks</label><textarea ng-blur=saveCurrentEiaPermit() ng-readonly=\"!auth.canSave('remarks')\" class=\"form-control input-sm\" rows=2 id=remarks ng-model=data.eiapermit.remarks></textarea></div></div><div class=col-md-6><button type=button style=margin-top:65px class=\"btn btn-danger btn-sm pull-right\" ng-click=deleteEiaPermit() ng-hide=\"!auth.canSave('delete')\">Delete EIA and Permit</button></div></div></form></div></div><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title title=\"id={{data.eiapermit.id}}\">Documents  <span class=\"loader pull-right\" ng-show=\"parts.document.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.Loaded && !data.document.is_new\">Last changed by {{data.document.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.document.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.document.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></h2></div><div class=panel-body><div class=documents><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Date of submission</th><th>Document title</th><th>Document code</th><th>Date sent to Director</th><th>Date sent to coordinator from dep.secretary</th><th>Date sent to the officer</th><th>Conclusion (PB/Tor accepted)</th><th>&nbsp;</th><th><button type=button class=\"btn btn-sm btn-success btn-sm\" ng-click=newDocument() ng-hide=\"!auth.canSave('new')\" ng-click=\"return false;\">New</button></th></tr></thead><tbody class=document ng-repeat=\"d in data.documents\"><tr class=master ng-class=\"{selected: data.document==d, notvalid: data.document==d && parts.document.form.$invalid}\"><td>{{d.date_submitted | date:'d MMM yyyy'}}</td><td>{{d.title}}</td><td>{{d.code}}</td><td>{{d.date_sent_director | date:'d MMM yyyy'}}</td><td>{{d.date_sent_from_dep | date:'d MMM yyyy'}}</td><td>{{d.date_sent_officer | date:'d MMM yyyy'}}</td><td>{{data.getCodeFromValuelist('documentconclusion', d.conclusion)}}</td><td><a ng-href={{downloadFileUrl(d.file_metadata_id)}} ng-show=d.attachment ng-attr-alt={{d.attachment.filename}} ng-attr-title={{d.attachment.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><button type=button class=\"btn btn-xs btn-link pull-right text-right\" ng-click=toggleDocument(d); data-x-hover-on-parent=.master ng-show=\"data.document!=d\">{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</button> <button type=button class=\"btn btn-xs btn-link pull-right text-right\" ng-click=toggleDocument(d); data-x-hover-on-parent=.master ng-show=\"data.document==d\">Close</button></td></tr><tr ng-if=\"data.document==d\" class=detail><td colspan=8><form role=form name=parts.document.form novalidation><div class=row><div class=col-md-3><div class=form-group><label for=document.date_submitted>Date of submission</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument() ng-required=true ng-readonly=\"!auth.canSave('document.date_submitted')\" id=document.date_submitted class=\"form-control input-sm input-date\" ng-model=data.document.date_submitted datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_submitted')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.sub_final>Final submission</label><select ui-select2 ng-change=saveCurrentDocument() ng-disabled=\"!auth.canSave('document.sub_final')\" id=document.sub_final class=\"form-control input-sm\" ng-model=data.document.sub_final><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document.sub_copy_no>No. of copies submitted</label><input integer ng-blur=saveCurrentDocument() ng-required=true ng-readonly=\"!auth.canSave('document.sub_copy_no')\" class=\"form-control input-sm\" id=document.sub_copy_no ng-model=data.document.sub_copy_no ng-change=\"calculateNumberOfCopiesOfDocument()\"></div></div><div class=col-md-3><div class=form-group><label for=document.title>Document title</label><input ng-blur=saveCurrentDocument() ng-required=true ng-readonly=\"!auth.canSave('document.title')\" class=\"form-control input-sm\" id=document.title ng-model=\"data.document.title\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.type>Type of document</label><select ui-select2 ng-change=setDefaultDocumentConclusion();calculateDocumentCode();saveCurrentDocument(); ng-required=true ng-disabled=\"!auth.canSave('document.type')\" id=document.type class=\"form-control input-sm\" ng-model=data.document.type><option ng-repeat=\"v in valuelists.documenttype\" value={{v.id}}>{{v.description2}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document.number>Listed number</label><input integer ng-blur=saveCurrentDocument() ng-required=true ng-readonly=\"!auth.canSave('document.number')\" class=\"form-control input-sm\" id=document.number ng-model=data.document.number ng-change=\"calculateDocumentCode()\"></div></div><div class=col-md-3><div class=form-group><label for=document.code>Document code</label><input ng-readonly=true class=\"form-control input-sm\" id=document.code ng-model=\"data.document.code\"></div></div><div class=col-md-3><div class=form-group ng-show=userinfo.info.features.fileupload><label>&nbsp;</label><div class=uploaded-file ng-show=data.document.file_metadata_id><a ng-href={{downloadFileUrl(data.document.file_metadata_id)}} ng-show=data.document.attachment>{{data.document.attachment.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteAttachment() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" ngf-select=uploadAttachment($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadPattern}} ng-model=fake_attachment name=attachment ng-hide=data.document.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size=10MB>Select File</button><div class=uploading-file ng-show=showUploadingAttachment><div class=file>{{attachmentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{attachmentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{attachmentFile.progress}}%\">{{attachmentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.document.form.attachment.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.consultent>Consulting team for PB & TOR</label><input ng-blur=saveCurrentDocument() ng-readonly=\"!auth.canSave('document.consultent')\" class=\"form-control input-sm\" id=document.consultent ng-model=\"data.document.consultent\"></div></div><div class=col-md-3><div class=form-group><label for=document.director_copy_no>No. of to copies Director</label><input integer ng-blur=saveCurrentDocument() ng-readonly=true class=\"form-control input-sm\" id=document.director_copy_no ng-model=\"data.document.director_copy_no\"></div></div><div class=col-md-3><div class=form-group><label for=document.date_sent_director>Date sent to Director</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument() ng-required=true ng-readonly=\"!auth.canSave('document.date_sent_director')\" id=document.date_sent_director class=\"form-control input-sm input-date\" ng-model=data.document.date_sent_director data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_director')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.coordinator_copy_no>No. of copies to coordinator</label><input integer ng-blur=saveCurrentDocument() ng-readonly=true class=\"form-control input-sm\" id=document.coordinator_copy_no ng-model=\"data.document.coordinator_copy_no\"></div></div><div class=col-md-3><div class=form-group><label for=document.date_copies_coordinator>Date copies sent to coordinator</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument() ng-readonly=\"!auth.canSave('document.date_copies_coordinator')\" id=document.date_copies_coordinator class=\"form-control input-sm input-date\" ng-model=data.document.date_copies_coordinator data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_copies_coordinator')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.date_next_appointment>Date of next appointment</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument() ng-required=true ng-readonly=\"!auth.canSave('document.date_next_appointment')\" id=document.date_next_appointment class=\"form-control input-sm input-date\" ng-model=data.document.date_next_appointment data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_next_appointment')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.date_sent_from_dep>Date sent to coordinator from dep.secretary</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument() ng-readonly=\"!auth.canSave('document.date_sent_from_dep')\" id=document.date_sent_from_dep class=\"form-control input-sm input-date\" ng-model=data.document.date_sent_from_dep data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_from_dep')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.date_sent_officer>Date sent to the officer</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument() ng-readonly=\"!auth.canSave('document.date_sent_officer')\" id=document.date_sent_officer class=\"form-control input-sm input-date\" ng-model=data.document.date_sent_officer data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=\"false\"> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_officer')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.folio_no>File and foliono.</label><input ng-blur=saveCurrentDocument() ng-readonly=\"!auth.canSave('document.folio_no')\" class=\"form-control input-sm\" id=document.folio_no ng-model=\"data.document.folio_no\"></div></div><div class=col-md-3><div class=form-group><label for=document.conclusion>Conclusion (PB/Tor accepted)</label><select ui-select2 ng-change=saveCurrentDocument(); ng-disabled=\"!auth.canSave('document.conclusion') || isDisabledBasedOnRule('document.conclusion')\" id=document.conclusion class=\"form-control input-sm\" ng-model=data.document.conclusion><option ng-repeat=\"v in valuelists.documentconclusion\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=document.remarks>Remarks</label><textarea ng-blur=saveCurrentDocument() ng-readonly=\"!auth.canSave('document.remarks')\" class=\"form-control input-sm\" rows=2 id=document.remarks ng-model=data.document.remarks></textarea></div></div></div></form></td></tr></tbody></table></div></div></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectProject.html',
    "<div class=\"row project-project\"><div class=\"col-md-12 project-project-new\" ng-if=selectOrganisationMode><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Select developer for the new project</h2></div><div class=panel-body><div class=row><div class=col-md-8><form class=form-inline role=form><div class=form-group><label class=sr-only for=filterText>Filter</label><input focus=true class=\"form-control input-filter\" id=filterText placeholder=Filter ng-model=filterText></div><span>Count: {{(organisations | filter:filterText).length}}</span></form></div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=newProjectNewOganisation() ng-hide=!auth.canSave()>New developer</button></div><div class=col-md-12><hr></div></div><div class=\"row header visible-md visible-lg\"><div class=col-md-3>Name</div><div class=col-md-3>Address</div><div class=col-md-3>City</div><div class=col-md-2>Contact person</div><div class=col-md-1></div></div><div class=\"row project\" ng-repeat=\"o in organisations | filter:filterText\"><div class=col-md-12><div class=\"row master\" ng-click=newProjectExisitingOrganisation(o)><div class=col-md-3 title=\"id={{o.id}}\">{{o.name}}</div><div class=col-md-3>{{o.visiting_address}}</div><div class=col-md-3>{{o.city}}</div><div class=\"col-md-2 hidden-xs\">{{o.contact_person}}</div><button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master>Select</button></div></div></div></div></div></div><div class=\"col-md-6 project-project-project\" ng-if=!selectOrganisationMode><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title title=\"id={{data.project.id}} oid={{data.project.organisation_id}}\">Project  <span class=\"loader pull-right\" ng-show=\"parts.project.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.project.state == SavingStateEnum.Loaded && !data.project.is_new\">Last changed by {{data.project.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.project.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.project.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.project.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.project.state == SavingStateEnum.Invalid\">All required fields must be filled out</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.project.state == SavingStateEnum.MissingDependency\">Organisation must also be filled out</span></h2></div><div class=panel-body><form role=form name=parts.project.form novalidation><div class=row><div class=col-md-6><div class=form-group><label for=title>Title</label><input ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=title ng-model=\"data.project.title\"></div></div><div class=col-md-6><div class=form-group><label for=category_id>Category of project</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=category_id ng-required=true class=\"form-control input-sm\" ng-model=data.project.category_id><option ng-repeat=\"v in valuelists.category\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=district_id>District</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=district_id ng-required=true class=\"form-control input-sm\" ng-model=data.project.district_id><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-6><div class=form-group><label for=additional_districs>Additional districts</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=additional_districs class=\"form-control input-sm\" ng-model=data.project.district_ids><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=location>Location</label><input ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=location ng-model=\"data.project.location\"></div></div><div class=col-md-3><div class=form-group><label for=latitude>Latitude</label><input ng-blur=saveCurrentProject() decimal ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=latitude ng-model=\"data.project.latitude\"></div></div><div class=col-md-3><div class=input><label for=longitude>Longitude <a target=_blank title=\"View in Google Maps\" href=\"http://maps.google.com/?q={{data.project.latitude}},{{data.project.longitude}}\"><span class=\"glyphicon glyphicon-map-marker\"></span></a></label><input ng-blur=saveCurrentProject() decimal ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=longitude ng-model=\"data.project.longitude\"></div></div></div><div class=row><div class=col-md-7><div class=form-group><label for=has_industrial_waste_water>Industrial waste water?</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=has_industrial_waste_water ng-required=false class=\"form-control input-sm\" ng-model=data.project.has_industrial_waste_water><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-5><div class=form-group><label for=grade>Grade</label><select ui-select2={allowClear:true} ng-change=saveCurrentProject() ng-disabled=!auth.canSaveGrade() id=grade ng-required=false class=\"form-control input-sm\" ng-model=data.project.grade><option></option><option ng-repeat=\"v in valuelists.grade\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-12><div class=form-group><label for=project_remarks>Remarks</label><textarea ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() class=\"form-control input-sm\" rows=3 id=project_remarks ng-model=data.project.remarks></textarea></div></div></div></form></div></div></div><div class=\"col-md-6 project-project-organisation\" ng-if=!selectOrganisationMode><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title title=\"id={{data.organisation.id}}\">Developer  <span class=\"loader pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.Loaded && !data.organisation.is_new\">Last changed by {{data.organisation.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.organisation.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.organisation.state == SavingStateEnum.Invalid\">All required fields must be filled out</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.organisation.state == SavingStateEnum.MissingDependency\">Project must be filled out first</span></h2></div><div class=panel-body><form role=form name=parts.organisation.form novalidation><div class=row><div class=col-md-8><div class=form-group><label for=name>Name</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=name ng-model=\"data.organisation.name\"></div></div><div class=col-md-4><div class=form-group><label for=tin>TIN</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() integer class=\"form-control input-sm\" id=tin ng-model=\"data.organisation.tin\"></div></div></div><div class=row><div class=col-md-5><div class=form-group><label for=visiting_address>Address</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=visiting_address ng-model=\"data.organisation.visiting_address\"></div></div><div class=col-md-3><div class=form-group><label for=box_no>PO Box</label><input ng-blur=saveCurrentOrganisation() integer ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=box_no ng-model=\"data.organisation.box_no\"></div></div><div class=col-md-4><div class=form-group><label for=city>City</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=city ng-model=\"data.organisation.city\"></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=phone>Phone</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=phone ng-model=\"data.organisation.phone\"></div></div><div class=col-md-6><div class=form-group><label for=fax>Fax</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=fax ng-model=\"data.organisation.fax\"></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=email>Email</label><input type=email ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=email ng-model=\"data.organisation.email\"></div></div><div class=col-md-6><div class=form-group><label for=contact_person>Contact person</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=contact_person ng-model=\"data.organisation.contact_person\"></div></div></div><div class=row><div class=col-md-12><div class=form-group><label for=organisation_remarks>Remarks</label><textarea ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" rows=3 id=organisation_remarks ng-model=data.organisation.remarks></textarea></div></div></div></form></div></div></div></div>"
  );


  $templateCache.put('partials/projectTabs.html',
    "<div class=top-header><h1>{{data.getProjectSummary(tab)}}</h1></div><div class=project><ul class=\"nav nav-tabs\" role=tablist><li ng-class=\"{active: tab==ProjectTabEnum.Project}\"><a ng-href=#/projects/{{routeParams.projectId}}>Project</a></li><li ng-class=\"{active: tab==ProjectTabEnum.EiasPermits}\"><a href=#/projects/{{routeParams.projectId}}/eiaspermits/{{data.eiapermit.id}}>EIAs and Permits ({{data.eiaspermits.length}})</a></li><li ng-class=\"{active: tab==ProjectTabEnum.AuditsInspections, disabled:!userinfo.info.features.auditsinspections}\" ng-click=featureCheckAuditsinspections($event)><a href=#/projects/{{routeParams.projectId}}/auditsinspections/{{data.auditinspection.id}}>Audits and Inspections ({{data.auditsinspections.length}})</a></li><li class=disabled onclick=\"return false\"><a href=#/projects/{{routeParams.projectId}}/reports>Reports</a></li></ul><div ng-if=\"tab==ProjectTabEnum.Project\"><div ng-controller=ProjectController ng-include=\"'partials/projectProject.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.EiasPermits\"><div ng-controller=EiasPermitsController ng-include=\"'partials/projectEiasPermits.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.AuditsInspections\"><div ng-controller=AuditsInspectionsController ng-include=\"'partials/projectAuditsInspections.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.Reports\">NOT IMPLEMENTED</div></div>"
  );


  $templateCache.put('partials/projects.html',
    "<div class=top-header><h1>Projects</h1></div><div class=projects><div class=row><div class=col-md-8><form class=form-inline role=form ng-show=showFilter><div class=form-group><label class=sr-only for=filterText>Filter</label><input class=\"form-control input-filter\" id=filterText placeholder=\"Filter (try anything, e.g. title, location, or organisation)\" ng-model=filterText></div><span>Showing {{(projects | filter:filterText).length}} of {{projectsCount}} projects</span></form><div ng-show=!showFilter><span>Showing {{(projects | filter:filterText).length}} of {{projectsCount}} projects</span> &nbsp;&nbsp; <button type=button class=\"btn btn-primary\" ng-click=getAllProjects()>Show all projects</button></div></div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=\"goto('/projects/new');\" ng-hide=!canSave()>New project</button></div><div class=col-md-12><hr></div></div><div class=row><div class=col-md-12><table class=table><thead class=header><tr><th>Id</th><th>Title</th><th>Location</th><th>Project District</th><th>Category of project</th><th>Developer</th><th>&nbsp;</th></tr></thead><tbody class=project ng-repeat=\"p in projects | filter:filterText\"><tr class=master ng-click=\"goto('/projects/'+p.id);\"><td>{{p.id}}</td><td>{{p.title}}</td><td>{{p.location}}</td><td>{{p.district.district}}</td><td>{{p.category.description}}</td><td title=\"id={{p.organisation.id}}\">{{p.organisation.name}}</td><td><button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master>Open</button></td></tr></tbody></table></div></div></div>"
  );


  $templateCache.put('partials/search.html',
    "<div class=top-header><h1>Search</h1></div><div class=search>Just preparing, just preparing.</div>"
  );


  $templateCache.put('partials/user.html',
    "<div class=top-header><h1>User profile</h1><p class=lead>This is the user profile for {{userinfo.info.name}}.</p></div><p>Change the password? Go to the <a href=#/password/send>reset password</a> page.</p><h3>Roles</h3><p ng-hide=userinfo.info.roles.length>No roles.</p><ul><li ng-repeat=\"role in userinfo.info.roles\">{{role.display_name}} ({{role.name}})</li></ul><div ng-if=userinfo.info.can_impersonate><h3>System manager</h3><p>As System manager, you may impersonate another user. This helps to verify that the different roles works as intended. If you impersonate a user that is not System manager, you have to sign out to be able to login as yourself again.</p><form class=form-horizontal role=form ng-init=userinfo.getAllUsers()><div class=form-group><label for=userid_to_impersonate class=\"col-sm-2 control-label\">Impersonate a user</label><div class=col-sm-3><select id=userid_to_impersonate ng-model=$parent.userid_to_impersonate ng-change=impersonate() class=\"form-control input-sm\" ng-options=\"u.id as u.name for u in userinfo.allusers | orderBy:'name'\"></select></div></div></form></div><br><button type=button class=\"btn btn-danger\" ng-click=userinfo.signout()>Sign out</button>"
  );

}]);

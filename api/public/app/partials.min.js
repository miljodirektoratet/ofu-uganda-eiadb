angular.module('seroApp').run(['$templateCache', function($templateCache) {
  'use strict';

  $templateCache.put('partials/about.html',
    "<div class=top-header><h1>EIA Database</h1><p class=lead>Current version: <span app-version></span></p></div>"
  );


  $templateCache.put('partials/advancedCodes.html',
    "<div class=top-header><h1>Advanced</h1></div><div class=advanced><div class=row><div class=col-md-8>Codes</div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=addRow()>New code</button></div></div><div class=row><div class=col-md-12><hr></div></div><div ui-grid=gridOptions ui-grid-edit ui-grid-row-edit ui-grid-cellnav ui-grid-resize-columns ui-grid-move-columns class=grid></div></div>"
  );


  $templateCache.put('partials/advancedLeadAgency.html',
    "<div class=top-header><h1>Advanced</h1></div><div class=advanced><div class=row><div class=col-md-8>Lead agency</div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=addRow()>New code</button></div></div><div class=row><div class=col-md-12><hr></div></div><div ui-grid=gridOptions ui-grid-edit ui-grid-row-edit ui-grid-cellnav ui-grid-resize-columns ui-grid-move-columns class=grid></div></div>"
  );


  $templateCache.put('partials/advancedUsers.html',
    "<div class=top-header><h1>Advanced</h1></div><div class=advanced><div class=row><div class=col-md-8>Users</div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=addRow()>New user</button></div></div><div class=row><div class=col-md-12><hr></div></div><div ui-grid=gridOptions ui-grid-edit ui-grid-row-edit ui-grid-cellnav ui-grid-resize-columns ui-grid-move-columns class=grid></div></div>"
  );


  $templateCache.put('partials/directives.deleteButton.html',
    "<div class=btn-group dropdown auto-close=disabled is-open=button.isopen><button ng-if=warning type=button class=\"btn btn-delete\" ng-class=buttonClass dropdown-toggle>{{text}}</button> <button ng-if=!warning type=button class=\"btn btn-delete\" ng-class=buttonClass ng-click=onYes();>{{text}}</button><ul class=dropdown-menu role=menu><li role=menuitem><div class=row><div class=col-md-12 ng-bind-html=warning></div></div><div class=row><div class=\"col-md-4 col-md-offset-2\"><button type=button class=\"btn btn-sm btn-primary\" ng-click=\"onYes();button.isopen = false;\">OK</button></div><div class=col-md-6><button type=button class=\"btn btn-sm btn-warning\" ng-click=\"button.isopen = false\">Cancel</button></div></div></li></ul></div>"
  );


  $templateCache.put('partials/home.html',
    "<div class=top-header><h1>EIA Database</h1><p class=lead>The EIA database contains registrations of practitioners, developers, projects, EIAs with documents, and audits and inspections.</p><h3>The main goals for using the database are to:</h3><ul><li>Improve access to relevant data for the NEMA employees.</li><li>Facilitate monitoring of the internal work processes.</li><li>Improve access to relevant documents.</li><li>Facilitate update of list of certified and registered EIA practitioners.</li><li>Facilitate compliance monitoring.</li></ul><h3>At the moment the EIA database has:</h3><ul><li>{{counts.practitioners}} practitioners.</li><li>{{counts.developers}} developers.</li><li>{{counts.projects}} projects.</li><li>{{counts.eiaspermits}} EIAS.</li><li>{{counts.permitslicenses}} permits and licenses.</li><li>{{counts.auditsinspections}} audits and inspections.</li><li>{{counts.externalaudits}} external audits.</li></ul></div>"
  );


  $templateCache.put('partials/login.html',
    "<div class=top-header><h1>Not Logged In</h1><p class=lead>You need to be logged in in order to use this application.</p></div><div ng-controller=LoginController><div class=row><div class=col-md-6><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Login Needed </h2></div><div class=panel-body><form class=form-horizontal role=form name=loginForm novalidation ng-submit=login()><div class=form-group ng-show=loginMessages><ul><li ng-repeat=\"message in loginMessages\">{{message}}</li></ul></div><div class=form-group><label class=\"col-md-4 control-label\">Initials</label><div class=col-md-6><input ng-required=true class=form-control set-focus name=initials ng-model=loginData.initials></div></div><div class=form-group><label class=\"col-md-4 control-label\">Password</label><div class=col-md-6><input type=password ng-required=true class=form-control name=password ng-model=loginData.password></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><div class=checkbox><label><input type=checkbox name=remember ng-model=loginData.remember> Remember Me</label></div></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><button type=submit class=\"btn btn-primary\" ng-disabled=\"loginForm.$invalid || loginFormDisabled\">Login</button> <a class=\"btn btn-link\" ng-href=#/password/send>Forgot Your Password?</a></div></div></form></div></div></div></div></div>"
  );


  $templateCache.put('partials/passwordReset.html',
    "<div class=top-header><h1>Reset Password</h1><p class=lead>This is where you can set a new password.</p></div><div class=row><div class=col-md-6><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Reset Password </h2></div><div class=panel-body><form class=form-horizontal role=form name=resetForm novalidation ng-submit=reset()><div class=form-group ng-show=resetMessages><ul><li ng-repeat=\"message in resetMessages\">{{message}}</li></ul></div><div class=form-group><label class=\"col-md-4 control-label\">E-Mail Address</label><div class=col-md-6><input type=email ng-required=true class=form-control name=email ng-model=resetData.email></div></div><div class=form-group><label class=\"col-md-4 control-label\">Password</label><div class=col-md-6><input type=password ng-required=true class=form-control name=password ng-model=resetData.password></div></div><div class=form-group><label class=\"col-md-4 control-label\">Confirm Password</label><div class=col-md-6><input type=password ng-required=true class=form-control name=password_confirmation ng-model=resetData.password_confirmation></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><button type=submit class=\"btn btn-primary\" ng-disabled=\"resetForm.$invalid || resetFormDisabled\">Reset Password</button></div></div></form></div></div></div></div>"
  );


  $templateCache.put('partials/passwordSend.html',
    "<div class=top-header><h1>Send Password Reset Link</h1><p class=lead>This is where you can start the process of setting a new password.</p></div><div class=row><div class=col-md-6><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Reset Password </h2></div><div class=panel-body><form class=form-horizontal role=form name=sendForm novalidation ng-submit=send()><div class=form-group ng-show=sendMessages><ul><li ng-repeat=\"message in sendMessages\">{{message}}</li></ul></div><div class=form-group><label class=\"col-md-4 control-label\">E-Mail Address</label><div class=col-md-6><input type=email ng-required=true class=form-control name=email ng-model=sendData.email></div></div><div class=form-group><div class=\"col-md-6 col-md-offset-4\"><button type=submit class=\"btn btn-primary\" ng-disabled=\"sendForm.$invalid || sendFormDisabled\">Send Password Reset Link</button></div></div></form></div></div></div></div>"
  );


  $templateCache.put('partials/pirking.html',
    "<div class=top-header><h1>Pirking</h1></div><div class=pirking><p>Currently last ID used for a EIA is {{lastId}}.</p><form role=form name=criteriaForm novalidation ng-submit=beginPirking()><div class=row><div class=col-md-2><label for=criteria.from>From ID (inclusive)</label><input integer id=criteria.from ng-required=true ng-model=criteria.from class=\"form-control input-sm\"></div><div class=col-md-2><label for=criteria.to>To ID (inclusive)</label><input integer id=criteria.to ng-required=true ng-model=criteria.to class=\"form-control input-sm\"></div><div class=col-md-1><label for=dryrun>Dry run</label><input type=checkbox class=\"form-control input-sm pull-left checkbox-small\" id=dryrun ng-checked=dryrun ng-click=\"dryrun = !dryrun;\"></div><div class=col-md-7><label for=criteria.begin>&nbsp;</label><br><button type=submit class=\"btn btn-sm btn-primary\" id=criteria.begin ng-disabled=\"criteriaForm.$invalid || working\">Begin pirking</button></div></div><div class=row><div class=col-md-12><br><span class=\"label label-info\" ng-show=dryrun>Do it the chicken way: Try without saving the status back to the database.</span> <span class=\"label label-danger\" ng-hide=dryrun>This will save any changes back to the database.</span></div></div><div class=row><div class=col-md-12><br><span style=padding:5px class=\"label label-info\">Progress <span class=badge>{{info.finished()}}/{{eiaspermits.length}}</span></span> <span style=padding:5px class=\"label label-success\">Changed <span class=badge>{{info.changed}}</span></span> <span style=padding:5px class=\"label label-warning\">No change <span class=badge>{{info.nochange}}</span></span> <span style=padding:5px class=\"label label-danger\">Error <span class=badge>{{info.error}}</span></span></div></div><div class=row><br><div class=col-md-12><div class=progress><div class=progress-bar role=progressbar style=\"width: {{info.progress()}}%\"></div></div></div></div></form><table class=\"table table-condensed\"><thead><tr><th>EP ID</th><th>Project ID</th><th style=width:400px>Project title</th><th colspan=2>Existing status</th><th colspan=2>New status</th><th>Updated at</th><th>Result</th></tr></thead><tbody><tr data-ng-repeat=\"ep in eiaspermits\" ng-class=\"{danger: ep.error, warning: ep.nochange, success: ep.changed}\"><td>{{ep.eiapermit_id}}</td><td>{{ep.project_id}}</td><td>{{ep.project_title}}</td><td>{{ep.status_id}}</td><td style=\"white-space: nowrap\">{{ep.status_description}}</td><td>{{ep.status_id_new}}</td><td style=\"white-space: nowrap\">{{ep.status_description_new}}</td><td style=\"white-space: nowrap\">{{ep.eiapermit_updated_at | date:'yyyy-MM-dd HH:mm:ss'}}</td><td style=\"white-space: nowrap\"><span ng-show=ep.updating class=\"loader pull-right\"></span>{{ep.result}}</td></tr></tbody></table></div>"
  );


  $templateCache.put('partials/practitioners.html',
    "<div class=top-header><h1>Practitioners</h1><p class=lead>Information on practitioners and certificates for EIA and audits. When you click on a line, additional information will be shown. Green squares under certificate shows what a practitioner are certified for the current year.<br>You can filter the information in the query field.</p></div><div class=practitioners><div class=row><div class=col-md-8><form class=form-inline role=form><div class=form-group><label class=sr-only for=filterText>Filter</label><input class=\"form-control input-filter\" id=filterText placeholder=\"Filter (try anything, e.g. name, city, eia or audit)\" ng-model=filterText></div><span>Count: {{ (practitioners | filter: filterText).length }}</span></form></div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=newPractitioner() ng-hide=!canSave()>New practitioner</button></div><div class=col-md-12><hr></div></div><div class=\"row header visible-md visible-lg\"><div class=col-md-3>Practitioner</div><div class=col-md-3>Organisation name</div><div class=col-md-3>Address</div><div class=col-md-1>City</div><div class=col-md-2>Certificates</div></div><div class=\"row practitioner\" ng-repeat=\"p in practitioners | filter:filterText\"><div class=col-md-12><form role=form name=form novalidation><div class=\"row master\" ng-click=toggleRow(p); ng-class=\"{selected: current==p, notvalid: form.$invalid}\"><div class=col-md-3 title=\"id={{ p.id }}\">{{ p.person }}</div><div class=col-md-3>{{ p.organisation_name }}</div><div class=\"col-md-3 hidden-xs\">{{ p.visiting_address }}</div><div class=\"col-md-1 hidden-xs\">{{ p.city }}</div><div class=col-md-2><span class=\"label certificate-label\" ng-class=\"hasAuditTL(p) ? 'label-success' :'label-default noCertificate'\">EA-TL</span> <span class=\"label certificate-label\" ng-class=\"hasAuditTM(p) ? 'label-success' :'label-default noCertificate'\">EA-TM</span> <span class=\"label certificate-label\" ng-class=\"hasEiaTL(p) ? 'label-info' :'label-default noCertificate'\">EIA-TL</span> <span class=\"label certificate-label\" ng-class=\"hasEiaTM(p) ? 'label-info' :'label-default noCertificate'\">EIA-TM</span> <span class=\"label certificate-label\" ng-class=\"hasPartnershipEia(p) ? 'label-warning' :'label-default noCertificate'\">EP-EIA</span> <span class=\"label certificate-label\" ng-class=\"hasPartnershipEa(p) ? 'label-warning' :'label-default noCertificate'\">EP-EA</span> <button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master ng-show=\"current!=p\">{{ canSave() ? \"Edit\" : \"Open\" }}</button> <button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master ng-show=\"current==p\">Close</button> <span class=\"loader pull-right\" ng-show=\"loading==p\"></span></div></div><div class=\"row detail\" ng-if=\"current==p\" ng-init=setCurrentForm(form)><div class=col-md-12><div class=row><div class=col-md-1><div class=form-group><label for=person>Title</label><select ui-select2 ng-disabled=!canSave() ng-required=true id=p_title class=\"form-control input-sm input-conditions\" ng-model=p.practitioner_title_id><option ng-repeat=\"v in valuelists.practitioner_title\" value=\"{{ v.id }}\">{{ v.description1 }}</option></select></div></div><div class=col-md-3><div class=form-group><label for=person>Practitioner</label><input ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" id=person ng-model=p.person></div></div><div class=col-md-2><div class=form-group><label for=tin>TIN</label><input ng-readonly=!canSave() integer max=9999999999 class=\"form-control input-sm\" id=tin ng-model=p.tin></div></div><div class=col-md-6><div class=form-group><label for=organisation_name>Organisation Name</label><span class=\"message-inline pull-right\" ng-show=p.updated_by>Last changed by {{ p.updated_by }}</span> <input ng-readonly=!canSave() ng-required=false class=\"form-control input-sm\" id=organisation_name ng-model=p.organisation_name></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=visiting_address>Address</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=visiting_address ng-model=p.visiting_address></div></div><div class=col-md-2><div class=form-group><label for=box_no>P.O. Box</label><input ng-readonly=!canSave() integer ng-required=true class=\"form-control input-sm\" id=box_no ng-model=p.box_no></div></div><div class=col-md-4><div class=form-group><label for=city>City</label><input ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" id=city ng-model=p.city></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=phone>Phone</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=phone ng-model=p.phone></div></div><div class=col-md-3><div class=form-group><label for=fax>Fax</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=fax ng-model=p.fax></div></div><div class=col-md-6><div class=form-group><label for=email>E-mail</label><input ng-readonly=!canSave() class=\"form-control input-sm\" id=email ng-model=p.email></div></div></div><div class=row><div class=col-md-4><div class=form-group><label for=qualifications>Qualifications</label><textarea ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" rows=3 id=qualifications ng-model=p.qualifications></textarea></div></div><div class=col-md-4><div class=form-group><label for=expertise>Expertise</label><textarea ng-readonly=!canSave() ng-required=true class=\"form-control input-sm\" rows=3 id=expertise ng-model=p.expertise></textarea></div></div><div class=col-md-4><div class=form-group><label for=email>Remarks</label><textarea ng-readonly=!canSave() class=\"form-control input-sm\" rows=3 id=remarks ng-model=p.remarks></textarea></div></div></div><div class=row><div class=col-md-8><h4>Certificates</h4></div><div class=col-md-4><button type=button class=\"btn btn-danger btn-sm pull-right\" ng-click=\"deletePractitioner($index, p)\" ng-hide=!canSave()>{{ p.is_new ? \"Cancel new practitioner\" : \"Delete practitioner\" }}</button></div></div><div class=\"row certificates\"><div class=col-md-12><table class=table><thead><tr><th>Year</th><th>Date of entry</th><th>Type of certificate</th><th>Number</th><th>Certificate number</th><th>Conditions</th><th>Cancelled?</th><th>Remarks</th><th><button type=button class=\"btn btn-success btn-sm btn-add-certificate\" ng-click=newCertificate(p) ng-hide=!canSave()>New</button></th></tr></thead><tbody><tr ng-repeat=\"c in p.practitioner_certificates\" ng-hide=c.is_deleted><td><input ng-readonly=!canSave() ng-required=true ng-change=calculateCertificateNumber(c) integer min=\"{{ certificateYearMin }}\" max=\"{{ certificateYearMax }}\" class=\"form-control input-sm input-year\" id=c_year ng-model=c.year></td><td><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-readonly=!canSave() class=\"form-control input-sm input-date\" ng-model=c.date_of_entry data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=!canSave() class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></td><td><select ui-select2 ng-disabled=!canSave() id=c_cert_type ng-required=true ng-change=calculateCertificateNumber(c) class=\"form-control input-sm\" ng-model=c.cert_type><option ng-repeat=\"v in valuelists.practitionertype\" value=\"{{ v.id }}\">{{ v.description1 }}</option></select></td><td><input ng-readonly=!canSave() id=c_number ng-change=calculateCertificateNumber(c) ng-required=true class=\"form-control input-sm\" ng-model=c.number></td><td><input ng-readonly=true id=c_cert_no certificate-number ng-required=true class=\"form-control input-sm\" ng-model=c.cert_no></td><td><select ui-select2 ng-disabled=!canSave() ng-required=true id=c_conditions class=\"form-control input-sm input-conditions\" ng-model=c.conditions><option ng-repeat=\"v in valuelists.practitionermembertype\" value=\"{{ v.id }}\">{{ v.description2 }}</option></select></td><td><input type=checkbox ng-disabled=!canSave() class=\"checkbox-small form-control input-sm\" id=c_is_cancelled ng-model=fake ng-checked=c.is_cancelled ng-click=\"c.is_cancelled = !c.is_cancelled\"></td><td><input ng-readonly=!canSave() class=\"form-control input-sm input-remarks warningfont\" id=c_remarks ng-model=c.remarks></td><td><button type=button ng-hide=!canSave() class=\"btn btn-danger btn-sm btn-delete-certificate\" ng-click=\"deleteCertificate($index, p, c)\">{{ c.is_new ? \"Cancel\" : \"Delete\" }}</button></td></tr></tbody></table></div></div></div></div></form></div></div></div>"
  );


  $templateCache.put('partials/projectAuditsInspections.html',
    "<div class=project-auditsandinspections><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Control number</th><th>Status</th><th>Type</th><th>Lead officer</th><th>Date started carried out</th><th>Date of response</th><th>Activity report</th><th><div class=\"btn-group new-button pull-right\" dropdown auto-close=disabled is-open=newButton.isopen ng-hide=\"!auth.canSave('new')\"><button type=button class=\"btn btn-xs btn-success pull-right\" dropdown-toggle ng-disabled=routeParams.auditinspectionId ng-hide=\"!auth.canSave('new')\">New<span class=caret></span></button><ul class=dropdown-menu role=menu><li role=menuitem><form role=form name=parts.auditinspection.form novalidation><div class=row><div class=col-md-2><label for=newButton.year>Year</label><input integer id=newButton.year ng-required=true ng-model=newButton.year class=\"form-control input-sm\"></div><div class=col-md-2><label for=newButton.type>Activity</label><select ui-select2 id=newButton.type class=\"form-control input-sm\" ng-required=true ng-model=newButton.type><option ng-repeat=\"v in valuelists.auditinspectiontype\" value={{v.id}}>{{v.description1}}</option></select></div><div class=col-md-3><label for=newButton.reason>Type</label><select ui-select2 id=newButton.reason class=\"form-control input-sm\" ng-required=true ng-model=newButton.reason><option ng-repeat=\"v in valuelists.audit_inspection_reason\" value={{v.id}}>{{v.description1}}</option></select></div><div class=col-md-3><label for=newButton.date_carried_out>Date started carried out</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-required=true id=newButton.date_carried_out class=\"form-control input-sm input-date\" ng-model=newButton.date_carried_out data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div><div class=col-md-2><label for=newButton.create>&nbsp;</label><br><button type=button class=\"btn btn-sm btn-primary use-button pull-right\" id=newButton.create ng-disabled=parts.auditinspection.form.$invalid ng-click=newAuditInspection()>Create</button></div></div></form></li></ul></div></th></tr></thead><tbody class=edit-row ng-repeat=\"ai in data.auditsinspections\"><tr class=master ng-class=\"{selected: routeParams.auditinspectionId==ai.id, notvalid: routeParams.auditinspectionId==ai.id && parts.auditinspection.form.$invalid}\" ng-click=\"openAuditInspection(ai.id, $event)\"><td>{{ai.code}}</td><td>{{data.getCodeFromValuelist('auditinspectionstatus', ai.status)}}</td><td>{{data.getCodeFromValuelist('auditinspectiontype', ai.type)}}</td><td>{{data.getCodeFromValuelist('officer_audit_inspection', ai.lead_officer)}}</td><td>{{ai.date_carried_out | date:'d MMM yyyy'}}</td><td>{{ai.date_action_taken | date:'d MMM yyyy'}}</td><td align=left><a ng-href={{downloadFileUrl(ai.report_file.id)}} ng-click=stopPropagation($event) ng-show=ai.report_file ng-attr-alt={{ai.report_file.filename}} ng-attr-title={{ai.report_file.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(routeParams.auditinspectionId, $event)\" ng-disabled=routeParams.auditinspectionId ng-show=\"routeParams.auditinspectionId!=ai.id\" ng-href=#/projects/{{routeParams.projectId}}/auditsinspections/{{ai.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.auditinspection.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.auditinspection.state == SavingStateEnum.Loading\" ng-show=\"routeParams.auditinspectionId==ai.id\" ng-href=#/projects/{{routeParams.projectId}}/auditsinspections>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.auditinspectionId==ai.id && parts.auditinspection.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowAuditInspection(ai) class=detail><td colspan=8><form role=form name=parts.auditinspection.form novalidation><div class=row><div class=col-md-1><div class=form-group><label for=year>Year</label><input integer ng-blur=saveCurrentAuditInspection() readonly class=\"form-control input-sm\" id=year ng-model=data.auditinspection.year></div></div><div class=col-md-2><div class=form-group><label for=type>Activity</label><select ui-select2 id=type class=\"form-control input-sm\" ng-change=saveCurrentAuditInspection() ng-required=true ng-disabled=\"!auth.canSave('type')\" ng-model=data.auditinspection.type><option ng-repeat=\"v in valuelists.auditinspectiontype\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=reason>Type</label><select ui-select2 id=reason class=\"form-control input-sm\" ng-change=saveCurrentAuditInspection() ng-required=true ng-disabled=\"!auth.canSave('reason')\" ng-model=data.auditinspection.reason><option ng-repeat=\"v in valuelists.audit_inspection_reason\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=lead_officer>Lead officer</label><select ui-select2 ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('lead_officer')\" id=lead_officer class=\"form-control input-sm\" ng-model=data.auditinspection.lead_officer><option ng-repeat=\"v in valuelists.officer_audit_inspection | filter:criteriaMatchOfficer1(data.auditinspection.lead_officer)\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=users>Other officers</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('personnel')\" id=users class=\"form-control input-sm\" ng-model=data.auditinspection.user_ids><option ng-repeat=\"v in valuelists.officer_audit_inspection | filter:criteriaMatchOfficer1(data.auditinspection.user_ids)\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_carried_out>Date started carried out</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-required=true ng-readonly=\"!auth.canSave('date_carried_out')\" id=date_carried_out class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_carried_out data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_inspection')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=days>Number of days</label><input integer ng-blur=saveCurrentAuditInspection() ng-required=true ng-readonly=\"!auth.canSave('days')\" class=\"form-control input-sm\" id=days ng-model=data.auditinspection.days></div></div><div class=col-md-4><div class=form-group><label for=external_participants>Participants from lead agencies, facilities etc.</label><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('external_participants')\" class=\"form-control input-sm\" id=external_participants ng-model=data.auditinspection.external_participants></div></div><div class=col-md-2><div class=form-group><label for=coordinated>Multisectoral</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=coordinated ng-model=fake_coordinated ng-checked=data.auditinspection.coordinated ng-click=\"data.auditinspection.coordinated = !data.auditinspection.coordinated; saveCurrentAuditInspection()\" ng-disabled=\"!auth.canSave('coordinated')\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_action_taken>Date of response</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_action_taken')\" id=date_action_taken class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_action_taken data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_action_taken')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=action_taken>Response</label><select ui-select2 ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('action_taken')\" id=action_taken class=\"form-control input-sm\" ng-model=data.auditinspection.action_taken><option ng-repeat=\"v in valuelists.actiontaken\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-4><div class=form-group><label for=lead_agencies>Lead agencies</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('lead_agencies')\" id=lead_agencies class=\"form-control input-sm\" ng-model=data.auditinspection.leadagency_ids><option ng-repeat=\"v in valuelists.leadagency\" value={{v.id}}>{{v.description2}}</option></select></div></div><div class=col-md-2><div class=form-group><label for=advance_notice>Advanced notice</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=advance_notice ng-model=fake_advance_notice ng-checked=data.auditinspection.advance_notice ng-click=\"data.auditinspection.advance_notice = !data.auditinspection.advance_notice; saveCurrentAuditInspection()\" ng-disabled=\"!auth.canSave('advance_notice')\"></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>Activity report</label><div class=uploaded-file ng-show=data.auditinspection.file_metadata_report_id><a ng-href={{downloadFileUrl(data.auditinspection.file_metadata_report_id)}} ng-show=data.auditinspection.report_file>{{data.auditinspection.report_file.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteReport() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadReport($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_report name=report ng-hide=data.auditinspection.file_metadata_report_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=showUploadingFileReport><div class=file>{{reportFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{reportFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{reportFile.progress}}%\">{{reportFile.progress}}%</div></div></div><div class=errors ng-messages=parts.auditinspection.form.report.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3><div class=form-group><label>Response document</label><div class=uploaded-file ng-show=data.auditinspection.file_metadata_id><a ng-href={{downloadFileUrl(data.auditinspection.file_metadata_id)}} ng-show=data.auditinspection.action_taken_letter>{{data.auditinspection.action_taken_letter.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteActionTakenLetter() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" ngf-select=uploadActionTakenLetter($files) type=button accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_action_taken_letter name=action_taken_letter ng-hide=data.auditinspection.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=showUploadingFileActionTakenLetter><div class=file>{{actionTakenLetterFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{actionTakenLetterFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{actionTakenLetterFile.progress}}%\">{{actionTakenLetterFile.progress}}%</div></div></div><div class=errors ng-messages=parts.auditinspection.form.action_taken_letter.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-6><div class=form-group><label for=findings>Description of findings</label><textarea class=\"form-control input-sm\" rows=2 id=findings ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('findings')\" ng-model=data.auditinspection.findings></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=performance_level>Performance level</label><select ui-select2 ng-change=saveCurrentAuditInspection() ng-disabled=\"!auth.canSave('action_taken')\" id=performance_level class=\"form-control input-sm\" ng-model=data.auditinspection.performance_level><option ng-repeat=\"v in valuelists.grade\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3></div><div class=col-md-6><div class=form-group><label for=recommendations>Recommendations</label><textarea class=\"form-control input-sm\" rows=2 id=recommendations ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('recommendations')\" ng-model=data.auditinspection.recommendations></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_deadline>Follow-up date</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_deadline')\" id=date_deadline class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_deadline data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_deadline')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=date_closing>Activity ended</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('date_closing')\" id=date_closing class=\"form-control input-sm input-date\" ng-model=data.auditinspection.date_closing data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_closing')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=remarks>Remarks</label><textarea class=\"form-control input-sm\" rows=2 id=remarks ng-blur=saveCurrentAuditInspection() ng-readonly=\"!auth.canSave('remarks')\" ng-model=data.auditinspection.remarks></textarea></div></div></div><div class=row><div class=col-md-6><div class=form-group><label>Supporting documentation</label><div class=uploaded-files ng-show=data.auditinspection.documentation><div class=file ng-repeat=\"d in data.auditinspection.documentation\"><a ng-href={{downloadFileUrl(d.id)}}>{{d.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteDocumentation(d.id) ng-hide=\"!auth.canSave('delete')\">delete</button></div></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadDocumentation($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_documentation name=documentation ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=showUploadingFileDocumentation><div class=file>{{documentationFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{documentationFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{documentationFile.progress}}%\">{{documentationFile.progress}}%</div></div></div><div class=errors ng-messages=parts.auditinspection.form.documentation.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-6><sero-delete-button class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete Audit and Inspection'\" warning=\"'Do you really want to delete this record?'\" button-class=\"'btn-danger'\" on-yes=deleteAuditInspection()></sero-delete-button></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.Loaded && !ai.is_new\">Last changed by {{ai.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.auditinspection.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.auditinspection.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.auditinspection.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></form></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectEiasPermits.html',
    "<div class=project-eiasandpermits><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Id</th><th>Status</th><th>Team leader</th><th>Decision taken</th><th>Date on certificate</th><th>Certificate number</th><th>File</th><th><button type=button class=\"btn btn-xs btn-success pull-right\" ng-disabled=routeParams.eiapermitId ng-click=newEiaPermit(); ng-hide=\"!auth.canSave('new')\">New</button></th></tr></thead><tbody class=edit-row ng-repeat=\"ep in data.eiaspermits\"><tr class=master ng-class=\"{selected: routeParams.eiapermitId==ep.id, notvalid: routeParams.eiapermitId==ep.id && parts.eiapermit.form.$invalid}\" ng-click=\"openEiapermit(ep.id, $event)\"><td>{{ep.id}}</td><td>{{data.getCodeFromValuelist('eiastatus', ep.status)}}</td><td>{{data.getCodeFromValuelist('team_leader_eia_permit', ep.user_id)}}</td><td>{{data.getCodeFromValuelist('decision', ep.decision)}}</td><td>{{ep.date_certificate | date:'d MMM yyyy'}}</td><td>{{ep.certificate_no}}</td><td align=left><a ng-href={{downloadFileUrl(ep.certificate.id)}} ng-click=stopPropagation($event) ng-show=ep.certificate ng-attr-alt={{ep.certificate.filename}} ng-attr-title={{ep.certificate.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(routeParams.eiapermitId, $event)\" ng-disabled=routeParams.eiapermitId ng-show=\"routeParams.eiapermitId!=ep.id\" ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{ep.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.eiapermit.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.eiapermit.state == SavingStateEnum.Loading\" ng-show=\"routeParams.eiapermitId==ep.id\" ng-href=#/projects/{{routeParams.projectId}}/eiaspermits>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.eiapermitId==ep.id && parts.eiapermit.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowEiaPermit(ep) class=detail><td colspan=8><form role=form name=parts.eiapermit.form novalidation><div class=row><div class=col-md-4><div class=form-group><label for=teamleader_id>Practitioner team leader</label><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('teamleader_id')\" id=teamleader_id class=\"form-control input-sm\" ng-model=ep.teamleader_id><option ng-repeat=\"v in valuelists.teamleader\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-8><div class=form-group><label for=team_members>Practitioner team members</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('practitioner_id')\" id=team_members class=\"form-control input-sm\" ng-model=ep.teammember_ids><option ng-repeat=\"v in valuelists.teammember\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=cost>Cost of the proposed development</label><div class=row><div class=col-md-6><input integer ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('cost')\" class=\"form-control input-sm\" id=cost ng-model=ep.cost></div><div class=col-md-6><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('cost_currency')\" id=cost_currency class=\"form-control input-sm\" ng-model=ep.cost_currency><option ng-repeat=\"v in valuelists.currency\" value={{v.id}}>{{v.description1}}</option></select></div></div></div></div><div class=col-md-3><div class=form-group><label for=expected_jobs_created>Expected jobs created</label><input decimal=1 ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('expected_jobs_created')\" class=\"form-control input-sm\" id=expected_jobs_created ng-model=ep.expected_jobs_created></div></div><div class=col-md-3><div class=form-group><label for=user_id>Team leader</label><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('user_id')\" id=user_id class=\"form-control input-sm\" ng-model=ep.user_id><option ng-repeat=\"v in valuelists.team_leader_eia_permit | filter:criteriaMatchOfficer1(ep.user_id)\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=users>Officers to handle</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('personnel')\" id=users class=\"form-control input-sm\" ng-model=ep.user_ids><option ng-repeat=\"v in valuelists.officer_eia_permit | filter:criteriaMatchOfficer(ep.user_ids)\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=inspection_recommended>Inspection before decision?</label><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('inspection_recommended')\" id=inspection_recommended class=\"form-control input-sm\" ng-model=ep.inspection_recommended><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_inspection>Date of inspection</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_inspection')\" id=date_inspection class=\"form-control input-sm input-date\" ng-model=ep.date_inspection data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_inspection')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=officer_recommend>Recommendations by reviewer</label><textarea ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('officer_recommend')\" class=\"form-control input-sm\" rows=2 id=officer_recommend ng-model=ep.officer_recommend></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=fee>Expected fees</label><div class=row><div class=col-md-6><input decimal=2 ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('fee')\" class=\"form-control input-sm\" id=fee ng-model=ep.fee></div><div class=col-md-6><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('fee_currency')\" id=fee_currency class=\"form-control input-sm\" ng-model=ep.fee_currency><option ng-repeat=\"v in valuelists.currency\" value={{v.id}}>{{v.description1}}</option></select></div></div></div></div><div class=col-md-3><div class=form-group><label for=date_sent_ded_approval>Date sent for approval</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_sent_ded_approval')\" id=date_sent_ded_approval class=\"form-control input-sm input-date\" ng-model=ep.date_sent_ded_approval data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_sent_ded_approval')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=decision>Decision taken</label><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('decision')\" id=decision class=\"form-control input-sm\" ng-model=ep.decision><option ng-repeat=\"v in valuelists.decision\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_decision>Date for decision</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_decision')\" id=date_decision class=\"form-control input-sm input-date\" ng-model=ep.date_decision data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_decision')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_fee_notification>Date of invoicing</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_fee_notification')\" id=date_fee_notification class=\"form-control input-sm input-date\" ng-model=ep.date_fee_notification data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_fee_notification')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=date_fee_payed>Date invoice is payed</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_fee_payed')\" id=date_fee_payed class=\"form-control input-sm input-date\" ng-model=ep.date_fee_payed data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_fee_payed')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=fee_receipt_no>Fee receipt number</label><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('fee_receipt_no')\" class=\"form-control input-sm\" id=fee_receipt_no ng-model=ep.fee_receipt_no></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=designation>Signature on certificate</label><select ui-select2 ng-change=saveCurrentEiaPermit(ep) ng-disabled=\"!auth.canSave('designation')\" id=designation class=\"form-control input-sm\" ng-model=ep.designation><option ng-repeat=\"v in valuelists.executivedirector\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_certificate>Date on the certificate</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_certificate')\" id=date_certificate class=\"form-control input-sm input-date\" ng-model=ep.date_certificate data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_certificate')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=certificate_no>Certificate number</label><input integer ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('certificate_no')\" class=\"form-control input-sm\" id=certificate_no ng-model=ep.certificate_no></div></div><div class=col-md-3><div class=form-group><label for=date_cancelled>Certificate cancelled date</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('date_cancelled')\" id=date_cancelled class=\"form-control input-sm input-date\" ng-model=ep.date_cancelled data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_cancelled')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=remarks>Remarks</label><textarea ng-blur=saveCurrentEiaPermit(ep) ng-readonly=\"!auth.canSave('remarks')\" class=\"form-control input-sm\" rows=2 id=remarks ng-model=ep.remarks></textarea></div></div><div class=col-md-3><div class=form-group><label>Certificate</label><div class=uploaded-file ng-show=ep.file_metadata_id><a ng-href={{downloadFileUrl(ep.file_metadata_id)}} ng-show=ep.certificate>{{ep.certificate.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteCertificate() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadCertificate($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_certificate name=certificate ng-hide=ep.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingCertificate><div class=file>{{certificateFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{certificateFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{certificateFile.progress}}%\">{{certificateFile.progress}}%</div></div></div><div class=errors ng-messages=parts.eiapermit.form.certificate.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3><sero-delete-button class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete EIA'\" warning=\"'NB! Any documents linked to this EIA will also be deleted. Do you want to proceed?'\" button-class=\"'btn-danger'\" on-yes=deleteEiaPermit()></sero-delete-button></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.Loaded && !ep.is_new\">Last changed by {{ep.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.eiapermit.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.eiapermit.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.eiapermit.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></form></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectEiasPermitsDocuments.html',
    "<div class=project-eiasandpermits><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Id</th><th>Date of submission</th><th>Document title</th><th>Document code</th><th>Date sent to Director</th><th>Date sent to team leader from dep.secretary</th><th>Date sent to the officer</th><th>Conclusion (PB/Tor)</th><th>File</th><th><button type=button class=\"btn btn-xs btn-success pull-right\" ng-disabled=routeParams.documentId ng-click=newDocument() ng-hide=\"!auth.canSave('new')\">New</button></th></tr></thead><tbody class=edit-row ng-repeat=\"d in data.documents\"><tr class=master ng-class=\"{selected: routeParams.documentId==d.id, notvalid: routeParams.documentId==d.id && parts.document.form.$invalid}\" ng-click=\"openEiapermitDocument(d.id, $event)\"><td>{{d.id}}</td><td>{{d.date_submitted | date:'d MMM yyyy'}}</td><td>{{d.title}}</td><td>{{d.code}}</td><td>{{d.date_sent_director | date:'d MMM yyyy'}}</td><td>{{d.date_sent_from_dep | date:'d MMM yyyy'}}</td><td>{{d.date_sent_officer | date:'d MMM yyyy'}}</td><td>{{data.getCodeFromValuelist('documentconclusion', d.conclusion)}}</td><td align=left><a ng-href={{downloadFileUrl(d.file_metadata_id)}} ng-click=stopPropagation($event) ng-show=d.attachment ng-attr-alt={{d.attachment.filename}} ng-attr-title={{d.attachment.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(routeParams.documentId, $event)\" ng-disabled=routeParams.documentId ng-show=\"routeParams.documentId!=d.id\" ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}/documents/{{d.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.document.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.document.state == SavingStateEnum.Loading\" ng-show=\"routeParams.documentId==d.id\" ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}/documents>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.documentId==d.id && parts.document.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowDocument(d) class=detail><td colspan=10><form role=form name=parts.document.form novalidation><div class=row><div class=col-md-3><div class=form-group><label for=document.date_submitted>Date of submission</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.date_submitted')\" id=document.date_submitted class=\"form-control input-sm input-date\" ng-model=d.date_submitted datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_submitted')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=document.title>Document title</label><input ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.title')\" class=\"form-control input-sm\" id=document.title ng-model=d.title></div></div><div class=col-md-3><div class=form-group><label>Document file</label><div class=uploaded-file ng-show=d.file_metadata_id><a ng-href={{downloadFileUrl(d.file_metadata_id)}} ng-show=d.attachment>{{d.attachment.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteAttachment() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadAttachment($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_attachment name=attachment ng-hide=d.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingAttachment><div class=file>{{attachmentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{attachmentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{attachmentFile.progress}}%\">{{attachmentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.document.form.attachment.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.type>Type of document</label><select ui-select2 ng-change=setDefaultDocumentConclusion();calculateDocumentCode();saveCurrentDocument(d); ng-required=true ng-disabled=\"!auth.canSave('document.type')\" id=document.type class=\"form-control input-sm\" ng-model=d.type><option ng-repeat=\"v in valuelists.documenttype\" value={{v.id}}>{{v.description2}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document.number>Listed number</label><input integer ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.number')\" class=\"form-control input-sm\" id=document.number ng-model=d.number ng-change=calculateDocumentCode()></div></div><div class=col-md-3><div class=form-group><label for=document.code>Document code</label><input ng-readonly=true class=\"form-control input-sm\" id=document.code ng-model=d.code></div></div><div class=col-md-3><div class=form-group><label for=document.date_next_appointment>Date of next appointment</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.date_next_appointment')\" id=document.date_next_appointment class=\"form-control input-sm input-date\" ng-model=d.date_next_appointment data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_next_appointment')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.sub_copy_no>No. of copies submitted</label><input integer ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.sub_copy_no')\" class=\"form-control input-sm\" id=document.sub_copy_no ng-model=d.sub_copy_no ng-change=calculateNumberOfCopiesOfDocument()></div></div><div class=col-md-3 style=font-weight:bold><div style=padding-top:15px><ng-pluralize count=d.director_copy_no when=\"{'one': '1 copy ', 'other': '{} copies '}\"></ng-pluralize>to director,</div><div><ng-pluralize count=d.coordinator_copy_no when=\"{'one': '1 copy ', 'other': '{} copies '}\"></ng-pluralize>to team leader</div></div><div class=col-md-3><div class=form-group><label for=document.date_copies_coordinator>Date copies sent to team leader</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_copies_coordinator')\" id=document.date_copies_coordinator class=\"form-control input-sm input-date\" ng-model=d.date_copies_coordinator data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_copies_coordinator')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.consultent>Consulting team for PB & TOR</label><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.consultent')\" class=\"form-control input-sm\" id=document.consultent ng-model=d.consultent></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.date_sent_director>Date sent to Director</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_sent_director')\" id=document.date_sent_director class=\"form-control input-sm input-date\" ng-model=d.date_sent_director data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_director')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-9><div class=form-group><label for=document.remarks_director>Remarks by Director</label><textarea ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.remarks_director')\" class=\"form-control input-sm\" rows=2 id=document.remarks_director ng-model=d.remarks_director></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.date_sent_from_dep>Date sent to team leader from dep.</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_sent_from_dep')\" id=document.date_sent_from_dep class=\"form-control input-sm input-date\" ng-model=d.date_sent_from_dep data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_from_dep')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-9><div class=form-group><label for=document.remarks_team_leader>Remarks by team leader</label><textarea ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.remarks_team_leader')\" class=\"form-control input-sm\" rows=2 id=document.remarks_team_leader ng-model=d.remarks_team_leader></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.date_sent_officer>Date sent to the officer</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_sent_officer')\" id=document.date_sent_officer class=\"form-control input-sm input-date\" ng-model=d.date_sent_officer data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_officer')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-9><div class=form-group><label for=document.remarks>Remarks by Reviewer</label><textarea ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.remarks')\" class=\"form-control input-sm\" rows=2 id=document.remarks ng-model=d.remarks></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.conclusion>Conclusion (PB/Tor)</label><select ui-select2 ng-change=saveCurrentDocument(d); ng-disabled=\"!auth.canSave('document.conclusion') || isDisabledBasedOnRule('document.conclusion')\" id=document.conclusion class=\"form-control input-sm\" ng-model=d.conclusion><option ng-repeat=\"v in valuelists.documentconclusion\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document.date_conclusion>Date of conclusion for PB & TOR</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_conclusion')\" id=document.date_conclusion class=\"form-control input-sm input-date\" ng-model=d.date_conclusion data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_conclusion')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>Response document</label><div class=uploaded-file ng-show=d.file_metadata_response_id><a ng-href={{downloadFileUrl(d.file_metadata_response_id)}} ng-show=d.response_document>{{d.response_document.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteResponseDocument() ng-hide=\"!auth.canSave('document.file_metadata_response_id')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadResponseDocument($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_response_document name=response_document ng-hide=d.file_metadata_response_id ng-disabled=\"!auth.canSave('document.file_metadata_response_id')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingResponseDocument><div class=file>{{responseDocumentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{responseDocumentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{responseDocumentFile.progress}}%\">{{responseDocumentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.document.form.response_document.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3><div class=form-group><label for=document.folio_no>File and foliono.</label><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.folio_no')\" class=\"form-control input-sm\" id=document.folio_no ng-model=d.folio_no></div></div></div></form><div class=row><div class=col-md-12><sero-delete-button class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete document'\" warning=\"'Do you really want to delete this record?'\" button-class=\"'btn-danger'\" on-yes=deleteDocument()></sero-delete-button><div class=\"btn-group move-button pull-right\" dropdown auto-close=disabled is-open=moveButton.isopen ng-hide=\"!auth.canSave('move') || d.is_new\"><button type=button class=\"btn btn-warning pull-right\" dropdown-toggle ng-hide=\"!auth.canSave('new')\">Move document<span class=caret></span></button><ul class=dropdown-menu role=menu><li role=menuitem><form role=form name=moveButton.form novalidation><div class=row><div class=col-md-8><label for=moveButton.id>EIA ID</label><input integer id=moveButton.id ng-required=true ng-model=moveButton.id class=\"form-control input-sm\"></div><div class=col-md-4><label for=moveButton.move>&nbsp;</label><br><button type=button class=\"btn btn-sm btn-primary use-button pull-right\" id=moveButton.move ng-disabled=moveButton.form.$invalid ng-click=moveDocument()>Move</button></div></div><div class=row ng-show=moveButton.error><div class=col-md-12>{{moveButton.error}}</div></div></form></li></ul></div></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.Loaded && !d.is_new\">Last changed by {{d.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.document.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.document.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectEiasPermitsHearings.html',
    "<div class=project-eiasandpermits><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Id</th><th>Lead agency</th><th>Date dispatched</th><th>Date expected</th><th>Date received</th><th>File</th><th><button type=button class=\"btn btn-xs btn-success pull-right\" ng-disabled=routeParams.hearingId ng-click=newHearing() ng-hide=\"!auth.canSave('new')\">New</button></th></tr></thead><tbody class=edit-row ng-repeat=\"h in data.hearings\"><tr class=master ng-class=\"{selected: routeParams.hearingId==h.id, notvalid: routeParams.hearingId==h.id && parts.hearing.form.$invalid}\" ng-click=\"openEiapermitDocumentHearing(h.id, $event)\"><td>{{h.id}}</td><td>{{data.getCodeFromValuelist('leadagency', h.lead_agency)}}</td><td>{{h.date_dispatched | date:'d MMM yyyy'}}</td><td>{{h.date_expected | date:'d MMM yyyy'}}</td><td>{{h.date_received | date:'d MMM yyyy'}}</td><td align=left><a ng-href={{downloadFileUrl(h.file_metadata_id)}} ng-click=stopPropagation($event) ng-show=h.attachment ng-attr-alt={{h.attachment.filename}} ng-attr-title={{h.attachment.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(routeParams.hearingId, $event)\" ng-disabled=routeParams.hearingId ng-show=\"routeParams.hearingId!=h.id\" ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}/documents/{{routeParams.documentId}}/hearings/{{h.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.hearing.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.hearing.state == SavingStateEnum.Loading\" ng-show=\"routeParams.hearingId==h.id\" ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}/documents/{{routeParams.documentId}}/hearings>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.hearingId==h.id && parts.hearing.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowHearing(h) class=detail><td colspan=10><form role=form name=parts.hearing.form novalidation><div class=row><div class=col-md-3><div class=form-group><label for=hearing.lead_agency>Lead agency</label><select ui-select2 ng-change=saveCurrentHearing(h) ng-disabled=\"!auth.canSave('hearing.lead_agency')\" id=hearing.lead_agency class=\"form-control input-sm\" ng-model=h.lead_agency><option ng-repeat=\"v in valuelists.leadagency\" value={{v.id}}>{{v.description2}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=hearing.district_id>District</label><select ui-select2 ng-change=saveCurrentHearing(h) ng-disabled=\"!auth.canSave('hearing.district_id') || isDisabledBasedOnRule('hearing.district_id')\" id=hearing.district_id class=\"form-control input-sm\" ng-model=h.district_id><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=hearing.date_dispatched>Date dispatched</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentHearing(h) ng-required=true ng-readonly=\"!auth.canSave('hearing.date_dispatched')\" id=hearing.date_dispatched class=\"form-control input-sm input-date\" ng-model=h.date_dispatched datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('hearing.date_dispatched')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=hearing.date_expected>Date expected</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentHearing(h) ng-required=false ng-readonly=\"!auth.canSave('hearing.date_expected')\" id=hearing.date_expected class=\"form-control input-sm input-date\" ng-model=h.date_expected datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('hearing.date_expected')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=hearing.date_received>Date received</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentHearing(h) ng-required=false ng-readonly=\"!auth.canSave('hearing.date_received')\" id=hearing.date_received class=\"form-control input-sm input-date\" ng-model=h.date_received datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('hearing.date_received')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>Document file</label><div class=uploaded-file ng-show=h.file_metadata_id><a ng-href={{downloadFileUrl(h.file_metadata_id)}} ng-show=h.attachment>{{h.attachment.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteAttachment() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadAttachment($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_attachment name=attachment ng-hide=h.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingAttachment><div class=file>{{attachmentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{attachmentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{attachmentFile.progress}}%\">{{attachmentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.document.form.attachment.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=hearing.recommendations>LA recommendations</label><textarea ng-blur=saveCurrentHearing(h) ng-readonly=\"!auth.canSave('hearing.recommendations')\" class=\"form-control input-sm\" rows=2 id=hearing.recommendations ng-model=h.recommendations></textarea></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=hearing.remarks>Remarks by the reviewer</label><textarea ng-blur=saveCurrentHearing(h) ng-readonly=\"!auth.canSave('hearing.remarks')\" class=\"form-control input-sm\" rows=2 id=hearing.remarks ng-model=h.remarks></textarea></div></div><div class=col-md-6><sero-delete-button class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete LA review'\" warning=\"'Do you really want to delete this record?'\" button-class=\"'btn-danger'\" on-yes=deleteHearing()></sero-delete-button></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.hearing.state == SavingStateEnum.Loaded && !h.is_new\">Last changed by {{h.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.hearing.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.hearing.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.hearing.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.hearing.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></form></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectEiasPermitsTabs.html',
    "<div class=project-eiasandpermits><div class=row><div class=col-md-12><ul class=\"nav nav-tabs\" role=tablist><li ng-class=\"{active: eptab==EiasPermitsTabEnum.EiaPermit}\"><a ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}>EIA</a></li><li ng-click=\"preventClickIfDisabled(isDocumentsDisabled(routeParams.eiapermitId), $event)\" ng-class=\"{active: eptab==EiasPermitsTabEnum.Documents, disabled: isDocumentsDisabled(routeParams.eiapermitId) }\"><a ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}/documents/{{routeParams.documentId}}>Documents{{isDocumentsDisabled(routeParams.eiapermitId) ? \"\" : \" (\" + data.documents.length + \")\"}}</a></li><li ng-click=\"preventClickIfDisabled(isHearingsDisabled(routeParams.documentId), $event)\" ng-class=\"{active: eptab==EiasPermitsTabEnum.Hearings, disabled: isHearingsDisabled(routeParams.documentId)}\"><a ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{routeParams.eiapermitId}}/documents/{{routeParams.documentId}}/hearings>LA review{{isHearingsDisabled(routeParams.documentId) ? \"\" : \" (\" + data.hearings.length + \")\"}}</a></li></ul></div></div><div ng-if=\"eptab==EiasPermitsTabEnum.EiaPermit\"><div ng-controller=EiasPermitsController ng-include=\"'partials/projectEiasPermits.html'\"></div></div><div ng-if=\"eptab==EiasPermitsTabEnum.Documents\"><div ng-controller=EiasPermitsDocumentsController ng-include=\"'partials/projectEiasPermitsDocuments.html'\"></div></div><div ng-if=\"eptab==EiasPermitsTabEnum.Hearings\"><div ng-controller=EiasPermitsHearingsController ng-include=\"'partials/projectEiasPermitsHearings.html'\"></div></div></div>"
  );


  $templateCache.put('partials/projectExternalAudits.html',
    "<div class=project-externalaudits><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Id</th><th>Status</th><th>Team leader</th><th>Type</th><th>Date of inspection</th><th>File</th><th><button type=button class=\"btn btn-xs btn-success pull-right\" ng-disabled=routeParams.externalauditId ng-click=newExternalAudit(); ng-hide=\"!auth.canSave('new')\">New</button></th></tr></thead><tbody class=edit-row ng-repeat=\"ea in data.externalaudits\"><tr class=master ng-class=\"{selected: routeParams.externalauditId==ea.id, notvalid: routeParams.externalauditId==ea.id && parts.externalaudit.form.$invalid}\" ng-click=\"openExternalaudit(ea.id, $event)\"><td>{{ea.id}}</td><td>{{data.getCodeFromValuelist('eiastatus', ea.status)}}</td><td>{{data.getCodeFromValuelist('team_leader_eia_permit', ea.user_id)}}</td><td>{{data.getCodeFromValuelist('external_audit_type', ea.type)}}</td><td>{{ea.date_inspection | date:'d MMM yyyy'}}</td><td align=left><a ng-href={{downloadFileUrl(ea.response_document.id)}} ng-click=stopPropagation($event) ng-show=ea.response_document ng-attr-alt={{ea.response_document.filename}} ng-attr-title={{ea.response_document.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(routeParams.externalauditId, $event)\" ng-disabled=routeParams.externalauditId ng-show=\"routeParams.externalauditId!=ea.id\" ng-href=#/projects/{{routeParams.projectId}}/externalaudits/{{ea.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.externalaudit.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.externalaudit.state == SavingStateEnum.Loading\" ng-show=\"routeParams.externalauditId==ea.id\" ng-href=#/projects/{{routeParams.projectId}}/externalaudits>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.externalauditId==ea.id && parts.externalaudit.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowExternalAudit(ea) class=detail><td colspan=8><form role=form name=parts.externalaudit.form novalidation><div class=row><div class=col-md-4><div class=form-group><label for=teamleader_id>Practitioner team leader</label><select ui-select2 ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('teamleader_id')\" id=teamleader_id class=\"form-control input-sm\" ng-model=ea.teamleader_id><option ng-repeat=\"v in valuelists.teamleader\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-8><div class=form-group><label for=team_members>Practitioner team members</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('practitioner_id')\" id=team_members class=\"form-control input-sm\" ng-model=ea.teammember_ids><option ng-repeat=\"v in valuelists.teammember\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=type>Type of external audit</label><select ui-select2 ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('type')\" id=type class=\"form-control input-sm\" ng-model=ea.type><option ng-repeat=\"v in valuelists.external_audit_type\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=user_id>Team leader</label><select ui-select2 ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('user_id')\" id=user_id class=\"form-control input-sm\" ng-model=ea.user_id><option ng-repeat=\"v in valuelists.team_leader_eia_permit | filter:criteriaMatchOfficer1(ea.user_id)\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=users>Officers to handle</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('personnel')\" id=users class=\"form-control input-sm\" ng-model=ea.user_ids><option ng-repeat=\"v in valuelists.officer_eia_permit | filter:criteriaMatchOfficer(ea.user_ids)\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=verification_inspection>Verification inspection?</label><select ui-select2 ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('verification_inspection')\" id=verification_inspection class=\"form-control input-sm\" ng-model=ea.verification_inspection><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=date_inspection>Date of inspection</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentExternalAudit(ea) ng-readonly=\"!auth.canSave('date_inspection')\" id=date_inspection class=\"form-control input-sm input-date\" ng-model=ea.date_inspection data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_inspection')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_response>Date of response</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentExternalAudit(ea) ng-readonly=\"!auth.canSave('date_response')\" id=date_response class=\"form-control input-sm input-date\" ng-model=ea.date_response data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_response')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>Response letter</label><div class=uploaded-file ng-show=ea.file_metadata_response_id><a ng-href={{downloadFileUrl(ea.file_metadata_response_id)}} ng-show=ea.response_document>{{ea.response_document.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteResponseDocument() ng-hide=\"!auth.canSave('delete_documentation_response_letter')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadResponseDocument($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_response_document name=response_document ng-hide=ea.file_metadata_response_id ng-disabled=\"!auth.canSave('upload_documentation_response_letter')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingResponseDocument><div class=file>{{responseDocumentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{responseDocumentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{responseDocumentFile.progress}}%\">{{responseDocumentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.externalaudit.form.response_document.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-6><div class=form-group><label for=review_findings>Review findings (Max. 2000 characters)</label><textarea ng-blur=saveCurrentExternalAudit(ea) ng-readonly=\"!auth.canSave('review_findings')\" class=\"form-control input-sm\" rows=2 id=review_findings ng-model=ea.review_findings></textarea></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=response>Response</label><select ui-select2 ng-change=saveCurrentExternalAudit(ea) ng-disabled=\"!auth.canSave('response')\" id=response class=\"form-control input-sm\" ng-model=ea.response><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=date_deadline_compliance>Date for complete compliance</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentExternalAudit(ea) ng-readonly=\"!auth.canSave('date_deadline_compliance')\" id=date_deadline_compliance class=\"form-control input-sm input-date\" ng-model=ea.date_deadline_compliance data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_deadline_compliance')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-9><sero-delete-button class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete External audit'\" warning=\"'NB! Any documents linked to this External audit will also be deleted. Do you want to proceed?'\" button-class=\"'btn-danger'\" on-yes=deleteExternalAudit()></sero-delete-button></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.externalaudit.state == SavingStateEnum.Loaded && !ea.is_new\">Last changed by {{ea.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.externalaudit.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.externalaudit.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.externalaudit.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.externalaudit.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></form></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectExternalAuditsDocuments.html',
    "<div class=project-eiasandpermits><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Id</th><th>Date of submission</th><th>Document title</th><th>Document code</th><th>Date sent to Director</th><th>Date sent to team leader from dep.secretary</th><th>Date sent to the officer</th><th>Conclusion (Tor)</th><th>File</th><th><button type=button class=\"btn btn-xs btn-success pull-right\" ng-disabled=routeParams.documentId ng-click=newDocument() ng-hide=\"!auth.canSave('new')\">New</button></th></tr></thead><tbody class=edit-row ng-repeat=\"d in data.documents_ea\"><tr class=master ng-class=\"{selected: routeParams.documentId==d.id, notvalid: routeParams.documentId==d.id && parts.document.form.$invalid}\" ng-click=\"openExternalauditDocument(d.id, $event)\"><td>{{d.id}}</td><td>{{d.date_submitted | date:'d MMM yyyy'}}</td><td>{{d.title}}</td><td>{{d.code}}</td><td>{{d.date_sent_director | date:'d MMM yyyy'}}</td><td>{{d.date_sent_from_dep | date:'d MMM yyyy'}}</td><td>{{d.date_sent_officer | date:'d MMM yyyy'}}</td><td>{{data.getCodeFromValuelist('documentconclusion', d.conclusion)}}</td><td align=left><a ng-href={{downloadFileUrl(d.file_metadata_id)}} ng-click=stopPropagation($event) ng-show=d.attachment ng-attr-alt={{d.attachment.filename}} ng-attr-title={{d.attachment.filename}}><span class=\"glyphicon glyphicon-file\"></span></a></td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(routeParams.documentId, $event)\" ng-disabled=routeParams.documentId ng-show=\"routeParams.documentId!=d.id\" ng-href=#/projects/{{routeParams.projectId}}/externalaudits/{{routeParams.externalauditId}}/documents/{{d.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.document.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.document.state == SavingStateEnum.Loading\" ng-show=\"routeParams.documentId==d.id\" ng-href=#/projects/{{routeParams.projectId}}/externalaudits/{{routeParams.externalauditId}}/documents>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.documentId==d.id && parts.document.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowDocument(d) class=detail><td colspan=10><form role=form name=parts.document.form novalidation><div class=row><div class=col-md-3><div class=form-group><label for=document.date_submitted>Date of submission</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.date_submitted')\" id=document.date_submitted class=\"form-control input-sm input-date\" ng-model=d.date_submitted datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_submitted')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-6><div class=form-group><label for=document.title>Document title</label><input ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.title')\" class=\"form-control input-sm\" id=document.title ng-model=d.title></div></div><div class=col-md-3><div class=form-group><label>Document file</label><div class=uploaded-file ng-show=d.file_metadata_id><a ng-href={{downloadFileUrl(d.file_metadata_id)}} ng-show=d.attachment>{{d.attachment.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteAttachment() ng-hide=\"!auth.canSave('delete')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadAttachment($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_attachment name=attachment ng-hide=d.file_metadata_id ng-disabled=\"!auth.canSave('delete')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingAttachment><div class=file>{{attachmentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{attachmentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{attachmentFile.progress}}%\">{{attachmentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.document.form.attachment.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.type>Type of document</label><select ui-select2 ng-change=setDefaultDocumentConclusion();calculateDocumentCode();saveCurrentDocument(d); ng-required=true ng-disabled=\"!auth.canSave('document.type')\" id=document.type class=\"form-control input-sm\" ng-model=d.type><option ng-repeat=\"v in valuelists.documenttypeexternalaudits\" value={{v.id}}>{{v.description2}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document.number>Listed number</label><input integer ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.number')\" class=\"form-control input-sm\" id=document.number ng-model=d.number ng-change=calculateDocumentCode()></div></div><div class=col-md-3><div class=form-group><label for=document.code>Document code</label><input ng-readonly=true class=\"form-control input-sm\" id=document.code ng-model=d.code></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.sub_copy_no>No. of copies submitted</label><input integer ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.sub_copy_no')\" class=\"form-control input-sm\" id=document.sub_copy_no ng-model=d.sub_copy_no ng-change=calculateNumberOfCopiesOfDocument()></div></div><div class=col-md-3><div class=form-group><label for=document.date_next_appointment>Date of next appointment</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-required=true ng-readonly=\"!auth.canSave('document.date_next_appointment')\" id=document.date_next_appointment class=\"form-control input-sm input-date\" ng-model=d.date_next_appointment data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_next_appointment')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.coordinator_copy_no>No. of copies to team leader</label><input integer ng-blur=saveCurrentDocument(d) ng-readonly=true class=\"form-control input-sm\" id=document.coordinator_copy_no ng-model=d.coordinator_copy_no></div></div><div class=col-md-3><div class=form-group><label for=document.date_copies_coordinator>Date copies sent to team leader</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_copies_coordinator')\" id=document.date_copies_coordinator class=\"form-control input-sm input-date\" ng-model=d.date_copies_coordinator data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_copies_coordinator')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.director_copy_no>No. of to copies Director</label><input integer ng-blur=saveCurrentDocument(d) ng-readonly=true class=\"form-control input-sm\" id=document.director_copy_no ng-model=d.director_copy_no></div></div><div class=col-md-3><div class=form-group><label for=document.date_sent_director>Date sent to Director</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_sent_director')\" id=document.date_sent_director class=\"form-control input-sm input-date\" ng-model=d.date_sent_director data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_director')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.date_sent_from_dep>Date sent to team leader from dep.</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_sent_from_dep')\" id=document.date_sent_from_dep class=\"form-control input-sm input-date\" ng-model=d.date_sent_from_dep data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_from_dep')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=document.date_sent_officer>Date sent to the officer</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_sent_officer')\" id=document.date_sent_officer class=\"form-control input-sm input-date\" ng-model=d.date_sent_officer data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_sent_officer')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document.conclusion>Conclusion (Tor)</label><select ui-select2 ng-change=saveCurrentDocument(d); ng-disabled=\"!auth.canSave('document.conclusion') || isDisabledBasedOnRule('document.conclusion')\" id=document.conclusion class=\"form-control input-sm\" ng-model=d.conclusion><option ng-repeat=\"v in valuelists.documentconclusion\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document.date_sent_officer>Date of conclusion for TOR</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.date_conclusion')\" id=document.date_conclusion class=\"form-control input-sm input-date\" ng-model=d.date_conclusion data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('document.date_conclusion')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>Response document</label><div class=uploaded-file ng-show=d.file_metadata_response_id><a ng-href={{downloadFileUrl(d.file_metadata_response_id)}} ng-show=d.response_document>{{d.response_document.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=deleteResponseDocument() ng-hide=\"!auth.canSave('document.file_metadata_response_id')\">delete</button></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=uploadResponseDocument($files) accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_response_document name=response_document ng-hide=d.file_metadata_response_id ng-disabled=\"!auth.canSave('document.file_metadata_response_id')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=uploading-file ng-show=showUploadingResponseDocument><div class=file>{{responseDocumentFile.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{responseDocumentFile.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{responseDocumentFile.progress}}%\">{{responseDocumentFile.progress}}%</div></div></div><div class=errors ng-messages=parts.document.form.response_document.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3><div class=form-group><label for=document.folio_no>File and foliono.</label><input ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.folio_no')\" class=\"form-control input-sm\" id=document.folio_no ng-model=d.folio_no></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=document.remarks>Remarks</label><textarea ng-blur=saveCurrentDocument(d) ng-readonly=\"!auth.canSave('document.remarks')\" class=\"form-control input-sm\" rows=2 id=document.remarks ng-model=d.remarks></textarea></div></div></div></form><div class=row><div class=col-md-12><sero-delete-button class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete document'\" warning=\"'Do you really want to delete this record?'\" button-class=\"'btn-danger'\" on-yes=deleteDocument()></sero-delete-button><div class=\"btn-group move-button pull-right\" dropdown auto-close=disabled is-open=moveButton.isopen ng-hide=\"!auth.canSave('move') || d.is_new\"><button type=button class=\"btn btn-warning pull-right\" dropdown-toggle ng-hide=\"!auth.canSave('new')\">Move document<span class=caret></span></button><ul class=dropdown-menu role=menu><li role=menuitem><form role=form name=moveButton.form novalidation><div class=row><div class=col-md-8><label for=moveButton.id>EA ID</label><input integer id=moveButton.id ng-required=true ng-model=moveButton.id class=\"form-control input-sm\"></div><div class=col-md-4><label for=moveButton.move>&nbsp;</label><br><button type=button class=\"btn btn-sm btn-primary use-button pull-right\" id=moveButton.move ng-disabled=moveButton.form.$invalid ng-click=moveDocument()>Move</button></div></div><div class=row ng-show=moveButton.error><div class=col-md-12>{{moveButton.error}}</div></div></form></li></ul></div></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.Loaded && !d.is_new\">Last changed by {{d.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.document.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.document.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.document.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectExternalAuditsTabs.html',
    "<div class=project-externalaudits><div class=row><div class=col-md-12><ul class=\"nav nav-tabs\" role=tablist><li ng-class=\"{active: eatab==ExternalAuditsTabEnum.ExternalAudit}\"><a ng-href=#/projects/{{routeParams.projectId}}/externalaudits/{{routeParams.externalauditId}}>External audit</a></li><li ng-click=\"preventClickIfDisabled(isDocumentsDisabled(routeParams.externalauditId), $event)\" ng-class=\"{active: eatab==ExternalAuditsTabEnum.Documents, disabled: isDocumentsDisabled(routeParams.externalauditId) }\"><a ng-href=#/projects/{{routeParams.projectId}}/externalaudits/{{routeParams.externalauditId}}/documents/{{routeParams.documentId}}>Documents{{isDocumentsDisabled(routeParams.externalauditId) ? \"\" : \" (\" + data.documents_ea.length + \")\"}}</a></li></ul></div></div><div ng-if=\"eatab==ExternalAuditsTabEnum.ExternalAudit\"><div ng-controller=ExternalAuditsController ng-include=\"'partials/projectExternalAudits.html'\"></div></div><div ng-if=\"eatab==ExternalAuditsTabEnum.Documents\"><div ng-controller=ExternalAuditsDocumentsController ng-include=\"'partials/projectExternalAuditsDocuments.html'\"></div></div></div>"
  );


  $templateCache.put('partials/projectPermitsLicenses.html',
    "<div class=project-permitslicenses><div class=row><div class=col-md-12><div class=edit-container><div class=\"row header visible-md visible-lg\"><div class=col-md-12><table class=table><thead><tr><th>Id</th><th>Status</th><th>Date of submission</th><th>Regulation</th><th>Team leader</th><th>Decision taken</th><th>Date on permit/license</th><th><div class=\"btn-group new-button pull-right\" dropdown auto-close=disabled is-open=newButton.isopen ng-hide=\"!auth.canSave('new')\"><button type=button class=\"btn btn-xs btn-success pull-right\" dropdown-toggle ng-disabled=notOkToEditOrCreateNew() ng-hide=\"!auth.canSave('new')\">New<span class=caret></span></button><ul class=dropdown-menu role=menu><li role=menuitem><form role=form name=parts.permitlicense.form novalidation><div class=row><div class=col-md-4><div class=form-group><label for=newButton.regulation>Regulation</label><select ui-select2 ng-disabled=\"!auth.canSave('regulation')\" id=newButton.regulation class=\"form-control input-sm\" ng-model=newButton.regulation><option ng-repeat=\"v in valuelists.permit_license_regulations\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row ng-if=\"newButton.regulation==idPermit\"><div class=col-md-4><div class=form-group><label for=newButton.ecosystem>Ecosystem</label><select ui-select2 ng-disabled=\"!auth.canSave('ecosystem')\" id=newButton.ecosystem class=\"form-control input-sm\" ng-model=newButton.ecosystem ng-required=true><option ng-repeat=\"v in valuelists.permit_license_ecosystem\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-4><div class=form-group><label for=newButton.regulation_activity>Regulation activities</label><select ui-select2 ng-disabled=\"!auth.canSave('regulation_activity') || !isEcosystemWetland(newButton)\" id=newButton.regulation_activity class=\"form-control input-sm\" ng-model=newButton.regulation_activity ng-required=isEcosystemWetland(newButton)><option ng-repeat=\"v in valuelists.permit_license_regulation_activity_wetland\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-4><div class=form-group><label for=newButton.area>Area</label><div class=row><div class=col-md-6><input decimal ng-readonly=\"!auth.canSave('area')\" class=\"form-control input-sm\" id=newButton.area ng-model=newButton.area ng-required=true></div><div class=col-md-6><select ui-select2 ng-disabled=\"!auth.canSave('unit')\" id=newButton.unit class=\"form-control input-sm\" ng-model=newButton.unit ng-required=true><option ng-repeat=\"v in valuelists.permit_license_area_units\" value={{v.id}}>{{v.description1}}</option></select></div></div></div></div><div class=col-md-6><div class=row><div class=col-md-6><div class=form-group><label for=newButton.approved_by_the_lc1>LC1 approved</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=newButton.approved_by_the_lc1 ng-model=fake_approved_by_the_lc1 ng-checked=newButton.approved_by_the_lc1 ng-click=\"newButton.approved_by_the_lc1 = !newButton.approved_by_the_lc1\" ng-disabled=\"!auth.canSave('approved_by_the_lc1')\"></div></div><div class=col-md-6><div class=form-group><label for=newButton.approved_by_the_dec>DEC approved</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=newButton.approved_by_the_dec ng-model=fake_approved_by_the_dec ng-checked=newButton.approved_by_the_dec ng-click=\"newButton.approved_by_the_dec = !newButton.approved_by_the_dec\" ng-disabled=\"!auth.canSave('approved_by_the_dec')\"></div></div></div></div></div><div class=row ng-if=\"newButton.regulation==idLicense\"><div class=col-md-4><div class=form-group><label for=newButton.waste_license_type>Waste license type</label><select ui-select2 ng-disabled=\"!auth.canSave('waste_license_type')\" id=newButton.waste_license_type class=\"form-control input-sm\" ng-model=newButton.waste_license_type ng-required=true><option ng-repeat=\"v in valuelists.permit_license_waste_license_type\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-6><div class=row><div class=col-md-6><div class=form-group><label for=newButton.approved_by_the_dec2>DEC approved</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=newButton.approved_by_the_dec2 ng-model=fake_approved_by_the_dec ng-checked=newButton.approved_by_the_dec ng-click=\"newButton.approved_by_the_dec = !newButton.approved_by_the_dec\" ng-disabled=\"!auth.canSave('approved_by_the_dec')\"></div></div></div></div></div><div class=row><div class=col-md-12><label for=newButton.create>&nbsp;</label><br><button type=button class=\"btn btn-sm btn-primary use-button pull-right\" id=newButton.create ng-disabled=parts.permitlicense.form.$invalid ng-click=newPermitLicense()>Create</button></div></div></form></li></ul></div></th></tr></thead><tbody class=edit-row ng-repeat=\"pl in data.permitslicenses\"><tr class=master ng-class=\"{selected: routeParams.permitlicenseId==pl.id, notvalid: routeParams.permitlicenseId==pl.id && parts.permitlicense.form.$invalid}\" ng-click=\"openPermitLicense(pl.id, $event)\"><td>{{pl.id}}</td><td>{{data.getCodeFromValuelist('eiastatus', pl.status)}}</td><td>{{pl.date_submitted | date:'d MMM yyyy'}}</td><td>{{data.getCodeFromValuelist('permit_license_regulations', pl.regulation)}}</td><td>{{data.getCodeFromValuelist('team_leader_eia_permit', pl.user_id)}}</td><td>{{data.getCodeFromValuelist('decision', pl.decision)}}</td><td>{{pl.date_permit_license | date:'d MMM yyyy'}}</td><td><div style=min-width:65px><a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(notOkToEditOrCreateNew(), $event)\" ng-disabled=notOkToEditOrCreateNew() ng-show=\"routeParams.permitlicenseId!=pl.id\" ng-href=#/projects/{{routeParams.projectId}}/permitslicenses/{{pl.id}}>{{auth.canSave('new') ? \"Edit\" : \"Open\"}}</a> <a class=\"btn btn-xs btn-link pull-right text-right\" ng-click=\"preventClickIfDisabled(parts.permitlicense.state == SavingStateEnum.Loading, $event)\" ng-disabled=\"parts.permitlicense.state == SavingStateEnum.Loading\" ng-show=\"routeParams.permitlicenseId==pl.id && !data.permitlicense.is_new\" ng-href=#/projects/{{routeParams.projectId}}/permitslicenses>Close</a> <span class=\"loader pull-right\" ng-show=\"routeParams.permitlicenseId==pl.id && parts.permitlicense.state == SavingStateEnum.Loading\"></span></div></td></tr><tr ng-if=shouldShowPermitLicense(pl) class=detail><td colspan=8><form role=form name=parts.permitlicense.form novalidation><div class=row ng-if=\"pl.regulation==idPermit\"><div class=col-md-3><div class=form-group><label for=ecosystem>Ecosystem</label><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('ecosystem')\" id=ecosystem class=\"form-control input-sm\" ng-model=pl.ecosystem ng-required=true><option ng-repeat=\"v in valuelists.permit_license_ecosystem\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=regulation_activity>Regulation activities</label><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('regulation_activity') || !isEcosystemWetland(pl)\" id=regulation_activity class=\"form-control input-sm\" ng-model=pl.regulation_activity ng-required=isEcosystemWetland(pl)><option ng-repeat=\"v in valuelists.permit_license_regulation_activity_wetland\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=area>Area</label><div class=row><div class=col-md-6><input decimal ng-blur=saveCurrentPermitLicense(pl) ng-readonly=\"!auth.canSave('area')\" class=\"form-control input-sm\" id=area ng-model=pl.area ng-required=true></div><div class=col-md-6><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('unit')\" id=unit class=\"form-control input-sm\" ng-model=pl.unit ng-required=true><option ng-repeat=\"v in valuelists.permit_license_area_units\" value={{v.id}}>{{v.description1}}</option></select></div></div></div></div><div class=col-md-3><div class=row><div class=col-md-6><div class=form-group><label for=approved_by_the_lc1>LC1 approved</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=approved_by_the_lc1 ng-model=fake_approved_by_the_lc1 ng-checked=data.permitlicense.approved_by_the_lc1 ng-click=\"data.permitlicense.approved_by_the_lc1 = !data.permitlicense.approved_by_the_lc1; saveCurrentPermitLicense(pl)\" ng-disabled=\"!auth.canSave('approved_by_the_lc1')\"></div></div><div class=col-md-6><div class=form-group><label for=approved_by_the_dec>DEC approved</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=approved_by_the_dec ng-model=fake_approved_by_the_dec ng-checked=data.permitlicense.approved_by_the_dec ng-click=\"data.permitlicense.approved_by_the_dec = !data.permitlicense.approved_by_the_dec; saveCurrentPermitLicense(pl)\" ng-disabled=\"!auth.canSave('approved_by_the_dec')\"></div></div></div></div></div><div class=row ng-if=\"pl.regulation==idLicense\"><div class=col-md-3><div class=form-group><label for=pl.waste_license_type>Waste license type</label><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('waste_license_type')\" id=pl.waste_license_type class=\"form-control input-sm\" ng-model=pl.waste_license_type ng-required=true><option ng-repeat=\"v in valuelists.permit_license_waste_license_type\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=row><div class=col-md-6><div class=form-group><label for=approved_by_the_dec2>DEC approved</label><input type=checkbox class=\"checkbox-small form-control input-sm\" id=approved_by_the_dec2 ng-model=fake_approved_by_the_dec ng-checked=data.permitlicense.approved_by_the_dec ng-click=\"data.permitlicense.approved_by_the_dec = !data.permitlicense.approved_by_the_dec; saveCurrentPermitLicense(pl)\" ng-disabled=\"!auth.canSave('approved_by_the_dec')\"></div></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=pl.date_submitted>Date of submission</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=true ng-change=calculateDateFeedbackToApplicants() ng-readonly=\"!auth.canSave('date_submitted')\" id=pl.date_submitted class=\"form-control input-sm input-date\" ng-model=pl.date_submitted datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_submitted')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>Application form</label><div class=uploaded-files><div class=file ng-repeat=\"d in pl.documentation | filter:documentationData.ApplicationForm.tag\"><a ng-href={{downloadFileUrl(d.id)}}>{{d.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=\"deleteDocumentation(pl, d.id, documentationData.ApplicationForm)\" ng-hide=\"!auth.canSave('delete')\">delete</button></div></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=\"uploadDocumentation(pl, documentationData.ApplicationForm, $files)\" accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_documentation_applicationform name=documentation_applicationform ng-hide=\"hasDocumentationTag(pl.documentation, documentationData.ApplicationForm.tag)\" ng-disabled=\"!auth.canSave('new')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=documentationData.ApplicationForm.showUploading><div class=file>{{documentationData.ApplicationForm.file.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{documentationData.ApplicationForm.file.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{documentationData.ApplicationForm.file.progress}}%\">{{documentationData.ApplicationForm.file.progress}}%</div></div></div><div class=errors ng-messages=parts.permitlicense.form.documentation_applicationform.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3></div><div class=col-md-3><div class=form-group><label for=pl.application_number>Application number</label><input integer ng-blur=saveCurrentPermitLicense(pl) ng-required=true ng-readonly=\"!auth.canSave('application_number')\" class=\"form-control input-sm\" id=pl.application_number ng-model=pl.application_number></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=pl.application_fee_receipt_number>Application fee receipt number</label><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('application_fee_receipt_number')\" class=\"form-control input-sm\" id=pl.application_fee_receipt_number ng-model=pl.application_fee_receipt_number></div></div><div class=col-md-3><div class=form-group><label for=pl.date_feedback_to_applicants>Date feedback to applicants</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-readonly=true id=pl.date_feedback_to_applicants class=\"form-control input-sm input-date\" ng-model=pl.date_feedback_to_applicants datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=true class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=pl.date_sent_to_director>Date sent to Director</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_sent_to_director')\" id=pl.date_sent_to_director class=\"form-control input-sm input-date\" ng-model=pl.date_sent_to_director datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_sent_to_director')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=pl.date_sent_from_dep>Date sent to team leader from dep</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_sent_from_dep')\" id=pl.date_sent_from_dep class=\"form-control input-sm input-date\" ng-model=pl.date_sent_from_dep datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_sent_from_dep')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=pl.date_sent_officer>Date sent to the officer</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_sent_officer')\" id=pl.date_sent_officer class=\"form-control input-sm input-date\" ng-model=pl.date_sent_officer datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_sent_officer')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=pl.folio_no>File and foliono.</label><input ng-blur=saveCurrentPermitLicense(pl) ng-readonly=\"!auth.canSave('folio_no')\" class=\"form-control input-sm\" id=pl.folio_no ng-model=pl.folio_no></div></div><div class=col-md-3><div class=form-group><label for=pl.application_evaluation_by_officer>Application evaluation by officer</label><select ui-select2={allowClear:true} ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('application_evaluation_by_officer')\" id=pl.application_evaluation_by_officer class=\"form-control input-sm\" ng-model=pl.application_evaluation_by_officer ng-required=false><option></option><option ng-repeat=\"v in valuelists.permit_license_application_evaluation\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=pl.date_of_evaluation>Date of evaluation</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_of_evaluation')\" id=pl.date_of_evaluation class=\"form-control input-sm input-date\" ng-model=pl.date_of_evaluation datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_of_evaluation')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=user_id>Team leader</label><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('user_id')\" id=user_id class=\"form-control input-sm\" ng-model=pl.user_id><option ng-repeat=\"v in valuelists.team_leader_eia_permit | filter:criteriaMatchOfficer1(pl.user_id)\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=users>Officers to handle</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('personnel')\" id=users class=\"form-control input-sm\" ng-model=pl.user_ids><option ng-repeat=\"v in valuelists.officer_eia_permit | filter:criteriaMatchOfficer(pl.user_ids)\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=inspection_recommended>Inspection before decision?</label><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('inspection_recommended')\" id=inspection_recommended class=\"form-control input-sm\" ng-model=pl.inspection_recommended><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=pl.date_inspection>Date of inspection</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_inspection')\" id=pl.date_inspection class=\"form-control input-sm input-date\" ng-model=pl.date_inspection datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_inspection')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=pl.officer_recommend>Recommendations by reviewer</label><input ng-blur=saveCurrentPermitLicense(pl) ng-readonly=\"!auth.canSave('officer_recommend')\" class=\"form-control input-sm\" id=pl.officer_recommend ng-model=pl.officer_recommend></div></div><div class=col-md-3><div class=form-group><label for=pl.fee_receipt_no>{{pl.regulation==idPermit ? \"Permit\" : \"License\"}} fee receipt number</label><input decimal ng-blur=saveCurrentPermitLicense(pl) ng-readonly=\"!auth.canSave('fee_receipt_no')\" class=\"form-control input-sm\" id=pl.fee_receipt_no ng-model=pl.fee_receipt_no></div></div><div class=col-md-3><div class=form-group><label for=pl.date_fee_payed>Date {{pl.regulation==idPermit ? \"permit\" : \"license\"}} fee paid</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_fee_payed')\" id=pl.date_fee_payed class=\"form-control input-sm input-date\" ng-model=pl.date_fee_payed datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_fee_payed')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=pl.date_sent_to_ed_for_decision>Date to ED for decision</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_sent_to_ed_for_decision')\" id=pl.date_sent_to_ed_for_decision class=\"form-control input-sm input-date\" ng-model=pl.date_sent_to_ed_for_decision datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_sent_to_ed_for_decision')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=pl.decision>Decision taken</label><select ui-select2={allowClear:true} ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('decision')\" id=pl.decision class=\"form-control input-sm\" ng-model=pl.decision ng-required=false><option></option><option ng-repeat=\"v in valuelists.decision\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=pl.signature_on_permit_license>Signature on {{pl.regulation==idPermit ? \"permit\" : \"license\"}}</label><select ui-select2 ng-change=saveCurrentPermitLicense(pl) ng-disabled=\"!auth.canSave('signature_on_permit_license')\" id=pl.signature_on_permit_license class=\"form-control input-sm\" ng-model=pl.signature_on_permit_license><option ng-repeat=\"v in valuelists.executivedirector\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=pl.date_permit_license>Date on the {{pl.regulation==idPermit ? \"permit\" : \"license\"}}</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_permit_license')\" id=pl.date_permit_license class=\"form-control input-sm input-date\" ng-model=pl.date_permit_license datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_permit_license')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=pl.permit_license_no>{{pl.regulation==idPermit ? \"Permit\" : \"License\"}} number</label><input integer ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('permit_license_no')\" class=\"form-control input-sm\" id=pl.permit_license_no ng-model=pl.permit_license_no></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=pl.date_permit_license_expired>Date {{pl.regulation==idPermit ? \"permit\" : \"license\"}} expire</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerController><input ng-blur=saveCurrentPermitLicense(pl) ng-required=false ng-readonly=\"!auth.canSave('date_permit_license_expired')\" id=pl.date_permit_license_expired class=\"form-control input-sm input-date\" ng-model=pl.date_permit_license_expired datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button ng-disabled=\"!auth.canSave('date_permit_license_expired')\" class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label>{{pl.regulation==idPermit ? \"Permit\" : \"License\"}}</label><div class=uploaded-files><div class=file ng-repeat=\"d in pl.documentation | filter:documentationData.PermitLicense.tag\"><a ng-href={{downloadFileUrl(d.id)}}>{{d.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=\"deleteDocumentation(pl, d.id, documentationData.PermitLicense)\" ng-hide=\"!auth.canSave('delete_documentation_permit_license')\">delete</button></div></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=\"uploadDocumentation(pl, documentationData.PermitLicense, $files)\" accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_documentation_permitlicense name=documentation_permitlicense ng-hide=\"hasDocumentationTag(pl.documentation, documentationData.PermitLicense.tag)\" ng-disabled=\"!auth.canSave('upload_documentation_permit_license')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=documentationData.PermitLicense.showUploading><div class=file>{{documentationData.PermitLicense.file.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{documentationData.PermitLicense.file.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{documentationData.PermitLicense.file.progress}}%\">{{documentationData.PermitLicense.file.progress}}%</div></div></div><div class=errors ng-messages=parts.permitlicense.form.documentation_permitlicense.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3><div class=form-group><label>Attachments to the application</label><div class=uploaded-files><div class=file ng-repeat=\"d in pl.documentation | filter:documentationData.Attachments.tag\"><a ng-href={{downloadFileUrl(d.id)}}>{{d.filename}}</a> <button type=button class=\"delete btn btn-sm btn-link\" ng-click=\"deleteDocumentation(pl, d.id, documentationData.Attachments)\" ng-hide=\"!auth.canSave('delete')\">delete</button></div></div><div><button class=\"btn btn-sm btn-default\" type=button ngf-select=\"uploadDocumentation(pl, documentationData.Attachments, $files)\" accept={{fileUploadPattern}} ngf-pattern={{fileUploadNgfPattern}} ng-model=fake_documentation_attachments name=documentation_attachments ng-disabled=\"!auth.canSave('new')\" ngf-max-size={{fileUploadMaxSize}}>Select File</button><div class=\"uploading-file ng-hide cssSlideUp\" ng-show=documentationData.Attachments.showUploading><div class=file>{{documentationData.Attachments.file.name}}<br><div class=progress><div class=progress-bar role=progressbar aria-valuenow={{documentationData.Attachments.file.progress}} aria-valuemin=0 aria-valuemax=100 style=\"width: {{documentationData.Attachments.file.progress}}%\">{{documentationData.Attachments.file.progress}}%</div></div></div><div class=errors ng-messages=parts.permitlicense.form.documentation_attachments.$error role=alert><div ng-message=pattern>The file type is not supported.</div><div ng-message=serverError>Something went wrong on the server.</div><div ng-message=maxSize>The file is to big.</div></div></div></div></div></div><div class=col-md-3><sero-delete-button ng-if=\"pl.regulation==idPermit\" class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete permit'\" warning=\"'Do you want to proceed?'\" button-class=\"'btn-danger'\" on-yes=deletePermitLicense()></sero-delete-button><sero-delete-button ng-if=\"pl.regulation==idLicense\" class=\"delete-button pull-right\" ng-hide=\"!auth.canSave('delete')\" text=\"'Delete license'\" warning=\"'Do you want to proceed?'\" button-class=\"'btn-danger'\" on-yes=deletePermitLicense()></sero-delete-button></div></div><div class=row><div class=col-md-12><p> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.permitlicense.state == SavingStateEnum.Loaded && !pl.is_new\">Last changed by {{pl.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.permitlicense.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.permitlicense.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.permitlicense.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.permitlicense.state == SavingStateEnum.Invalid\">All required fields must be filled out</span></p></div></div></form></td></tr></tbody></table></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/projectProject.html',
    "<div class=\"row project-project\"><div class=\"col-md-12 project-project-new\" ng-if=selectOrganisationMode><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Select developer for the new project <span class=pull-right>Result count: {{totalCount}}</span></h2></div><div class=panel-body><div class=row><div class=col-md-8><form class=form-inline role=form><div class=form-group><label class=sr-only for=filterText>Search</label><input focus=true class=\"form-control input-filter\" id=filterText placeholder=Search ng-model=data.searchWord> <button ng-click=search() class=\"btn btn-success\">{{searchBtnTxt}}</button></div></form></div><div class=col-md-4><button type=button class=\"btn btn-success pull-right\" ng-click=newProjectNewOganisation() ng-hide=!auth.canSave()>New developer</button></div><div class=col-md-12><hr></div></div><div class=\"row header visible-md visible-lg\"><div class=col-md-1>Id</div><div class=col-md-3>Name</div><div class=col-md-3>Address</div><div class=col-md-2>City</div><div class=col-md-1>TIN</div><div class=col-md-1>Number of Projects</div><div class=col-md-1></div></div><div class=\"row project\" ng-repeat=\"o in organisations\"><div class=col-md-12><div class=\"row master\" ng-click=newProjectExisitingOrganisation(o)><div class=col-md-1>{{o.id}}</div><div class=col-md-3>{{o.name}}</div><div class=col-md-3>{{o.visiting_address}}</div><div class=col-md-2>{{o.city}}</div><div class=\"col-md-1 hidden-xs\">{{o.tin}}</div><div class=\"col-md-1 hidden-xs\">{{o.projectCount}}</div><button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master>Select</button></div></div></div><center><br><button class=\"btn-lg btn-block btn btn-success\" ng-hide=\"(totalCount == organisations.length)\" ng-click=loadMoreDevelopers()>{{loadMoreBtnTxt}}</button></center></div></div></div><div class=\"col-md-6 project-project-project\" ng-if=!selectOrganisationMode><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Project <span ng-show=data.project.id>(id {{data.project.id}})</span>  <span class=\"loader pull-right\" ng-show=\"parts.project.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.project.state == SavingStateEnum.Loaded && !data.project.is_new\">Last changed by {{data.project.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.project.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.project.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.project.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.project.state == SavingStateEnum.Invalid\">All required fields must be filled out</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.project.state == SavingStateEnum.MissingDependency\">Organisation must also be filled out</span></h2></div><div class=panel-body><form role=form name=parts.project.form novalidation><div class=row><div class=col-md-6><div class=form-group><label for=title>Name</label><input ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=title ng-model=data.project.title></div></div><div class=col-md-6><div class=form-group><label for=category_id>Category of project</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=category_id ng-required=true class=\"form-control input-sm\" ng-model=data.project.category_id><option ng-repeat=\"v in valuelists.category\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=district_id>District</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=district_id ng-required=true class=\"form-control input-sm\" ng-model=data.project.district_id><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-6><div class=form-group><label for=additional_districs>Additional districts</label><select ui-select2 multiple placeholder=\"Click to pick\" ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=additional_districs class=\"form-control input-sm\" ng-model=data.project.district_ids><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=location>Location</label><input ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=location ng-model=data.project.location></div></div><div class=col-md-3><div class=form-group><label for=latitude>Latitude</label><input ng-blur=saveCurrentProject() decimal negative-number=true min=-1.48 max=4.22 ng-change=checkInputForGoogleMaps(parts.project.form.latitude) ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=latitude name=latitude ng-model=data.project.latitude></div></div><div class=col-md-3><div class=input><label for=longitude>Longitude <a target=_blank title=\"View in Google Maps\" href=\"http://maps.google.com/?q={{data.project.latitude}},{{data.project.longitude}}\"><span class=\"glyphicon glyphicon-map-marker\"></span></a></label><input ng-blur=saveCurrentProject() decimal min=29.57 max=35.04 ng-change=checkInputForGoogleMaps(parts.project.form.longitude) ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=longitude name=longitude ng-model=data.project.longitude></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=has_industrial_waste_water>Industrial waste water?</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=\"!auth.canSave('has_industrial_waste_water')\" id=has_industrial_waste_water class=\"form-control input-sm\" ng-model=data.project.has_industrial_waste_water><option ng-repeat=\"v in valuelists.yesno\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-6><div class=form-group><label for=risk_level>Risk level</label><select ui-select2={allowClear:false} ng-change=saveCurrentProject() ng-disabled=!auth.canSave() id=risk_level class=\"form-control input-sm\" ng-model=data.project.risk_level><option ng-repeat=\"v in valuelists.project_risk_level\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=contact_person>Contact person</label><input ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=contact_person ng-model=data.project.contact_person></div></div></div><div class=row><div class=col-md-12><div class=form-group><label for=project_remarks>Remarks</label><textarea ng-blur=saveCurrentProject() ng-readonly=!auth.canSave() class=\"form-control input-sm\" rows=3 id=project_remarks ng-model=data.project.remarks></textarea></div></div></div><div class=row><div class=col-md-12><div class=pull-right><sero-delete-button class=delete-button ng-hide=!auth.canDelete() text=\"'Delete Project'\" warning=\"'Do you really want to delete this project? If the organisation is no longer connected to any project, the organisation will also be deleted.'\" button-class=\"'btn-danger'\" on-yes=deleteProject()></sero-delete-button></div></div></div></form></div></div></div><div class=\"col-md-6 project-project-organisation\" ng-if=!selectOrganisationMode><div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>Developer <span ng-show=data.organisation.id>(id {{data.organisation.id}})  <span class=\"loader pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.Loading\"></span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.Loaded && !data.organisation.is_new\">Last changed by {{data.organisation.updated_by}}</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.SavingStarted\">Saving...</span> <span class=\"saving-message-inline pull-right\" ng-show=\"parts.organisation.state == SavingStateEnum.SavingFinished\">All changes saved</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.organisation.state == SavingStateEnum.SavingFailed\">Saving failed</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.organisation.state == SavingStateEnum.Invalid\">All required fields must be filled out</span> <span class=\"saving-message-inline pull-right color-error\" ng-show=\"parts.organisation.state == SavingStateEnum.MissingDependency\">Project must be filled out first</span></span></h2></div><div class=panel-body><form role=form name=parts.organisation.form novalidation><div class=row><div class=col-md-8><div class=form-group><label for=name>Name</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=name ng-model=data.organisation.name></div></div><div class=col-md-4><div class=form-group><label for=tin>TIN</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() integer max=9999999999 class=\"form-control input-sm\" id=tin ng-model=data.organisation.tin></div></div></div><div class=row><div class=col-md-5><div class=form-group><label for=visiting_address>Address</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=visiting_address ng-model=data.organisation.visiting_address></div></div><div class=col-md-3><div class=form-group><label for=box_no>PO Box</label><input ng-blur=saveCurrentOrganisation() integer ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=box_no ng-model=data.organisation.box_no></div></div><div class=col-md-4><div class=form-group><label for=city>City</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=city ng-model=data.organisation.city></div></div></div><div class=row><div class=col-md-12><div class=form-group><label for=physical_address>Physical address</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=physical_address ng-model=data.organisation.physical_address></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=phone>Phone</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() ng-required=true class=\"form-control input-sm\" id=phone ng-model=data.organisation.phone></div></div><div class=col-md-6><div class=form-group><label for=fax>Fax</label><input ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=fax ng-model=data.organisation.fax></div></div></div><div class=row><div class=col-md-6><div class=form-group><label for=email>Email</label><input type=email ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" id=email ng-model=data.organisation.email></div></div></div><div class=row><div class=col-md-12><div class=form-group><label for=organisation_remarks>Remarks</label><textarea ng-blur=saveCurrentOrganisation() ng-readonly=!auth.canSave() class=\"form-control input-sm\" rows=3 id=organisation_remarks ng-model=data.organisation.remarks></textarea></div></div></div><div class=row><div class=col-md-12><div class=pull-right><sero-delete-button class=delete-button ng-hide=!auth.canSave() text=\"'Change Developer'\" warning=\"'You will now change the developer for this project. If the previous developer after the change no longer is connected to any projects, this developer will be automatically deleted.'\" button-class=\"'btn-warning'\" on-yes=changeDeveloper()></sero-delete-button></div></div></div></form></div></div></div></div>"
  );


  $templateCache.put('partials/projects.html',
    "<div class=top-header><h1>Projects</h1></div><div class=projects><div class=row><div class=col-md-8><form class=form-inline role=form><div class=form-group><label class=sr-only for=filterText>Filter</label><input class=\"form-control input-filter\" id=filterText placeholder=\"Search (try anything, e.g. name, location, or organisation)\" ng-model=searchWord> <button class=\"btn btn-success\" ng-click=searchProjects()>{{projectSearchTxt}}</button></div></form></div><div class=col-md-4><sero-delete-button class=\"delete-button pull-right\" ng-hide=!canSave() text=\"'New project'\" warning=\"'Are you sure that you want to create a new <span class=\\'warningfont\\'>project</span>? You should only create a new project if it already doesn\\'t exist.'\" button-class=\"'btn-success'\" on-yes=\"goto('/projects/new')\"></sero-delete-button></div><div class=col-md-12><hr></div></div><div class=row><div class=col-md-12><table class=table><thead class=header><tr><th>Id</th><th>Name</th><th>Location</th><th>Project District</th><th>Category of project</th><th>Developer</th><th>&nbsp;</th></tr></thead><tbody class=project ng-repeat=\"p in projects | filter:filterText\"><tr class=master ng-click=\"goto('/projects/'+p.id);\"><td>{{p.id}}</td><td>{{p.title}}</td><td>{{p.location}}</td><td>{{p.district.district}}</td><td>{{p.category.description}}</td><td title=\"id={{p.organisation.id}}\">{{p.organisation.name}}</td><td><button type=button class=\"btn btn-xs btn-link pull-right text-right\" hover-on-parent=.master>Open</button></td></tr></tbody></table></div></div><button class=\"btn btn-block btn-success\" ng-hide=hideProjectLoader ng-click=loadMoreProjects()>{{loadMoreProjectsTxt}}</button><br></div>"
  );


  $templateCache.put('partials/projectTabs.html',
    "<div class=top-header><h1>{{data.getProjectSummary(tab)}}</h1></div><div class=project><ul class=\"nav nav-tabs\" role=tablist><li ng-class=\"{active: tab==ProjectTabEnum.Project}\"><a ng-href=#/projects/{{routeParams.projectId}}>Project</a></li><li ng-class=\"{active: tab==ProjectTabEnum.EiasPermits}\"><a ng-href=#/projects/{{routeParams.projectId}}/eiaspermits/{{data.eiapermit.id}}>EIAs ({{data.eiaspermits.length}})</a></li><li ng-class=\"{active: tab==ProjectTabEnum.PermitsLicenses}\"><a ng-href=#/projects/{{routeParams.projectId}}/permitslicenses/{{data.permitlicense.id}}>Permits and Licenses ({{data.permitslicenses.length}})</a></li><li ng-class=\"{active: tab==ProjectTabEnum.AuditsInspections}\"><a ng-href=#/projects/{{routeParams.projectId}}/auditsinspections/{{data.auditinspection.id}}>Audits and Inspections ({{data.auditsinspections.length}})</a></li><li ng-class=\"{active: tab==ProjectTabEnum.ExternalAudits}\"><a ng-href=#/projects/{{routeParams.projectId}}/externalaudits/{{data.externalaudit.id}}>External audits ({{data.externalaudits.length}})</a></li></ul><div ng-if=\"tab==ProjectTabEnum.Project\"><div ng-controller=ProjectController ng-include=\"'partials/projectProject.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.EiasPermits\"><div ng-controller=EiasPermitsTabsController ng-include=\"'partials/projectEiasPermitsTabs.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.PermitsLicenses\"><div ng-controller=PermitsLicensesController ng-include=\"'partials/projectPermitsLicenses.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.AuditsInspections\"><div ng-controller=AuditsInspectionsController ng-include=\"'partials/projectAuditsInspections.html'\"></div></div><div ng-if=\"tab==ProjectTabEnum.ExternalAudits\"><div ng-controller=ExternalAuditsTabsController ng-include=\"'partials/projectExternalAuditsTabs.html'\"></div></div></div>"
  );


  $templateCache.put('partials/searchAuditsInspections.html',
    "<div class=search-auditsandinspections><div class=row><div class=col-md-12><form ng-submit=setSearchUrl()><div class=row><div class=col-md-3><div class=form-group><label for=project_title>Project name</label><input class=\"form-control input-sm\" id=project_title ng-model=criteria.project_title set-focus></div></div><div class=col-md-3><div class=form-group><label for=district_id>Project district</label><select ui-select2={allowClear:true} id=district_id class=\"form-control input-sm\" ng-model=criteria.district_id><option></option><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=category_id>Category of project</label><select ui-select2={allowClear:true} id=category_id class=\"form-control input-sm\" ng-model=criteria.category_id><option></option><option ng-repeat=\"v in valuelists.category\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=developer_name>Developer name, ID or TIN</label><input class=\"form-control input-sm\" id=developer_name ng-model=criteria.developer_name></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=auditinspection_year>Year</label><input class=\"form-control input-sm\" id=auditinspection_year ng-model=criteria.auditinspection_year></div></div><div class=col-md-3><div class=form-group><label for=auditinspection_code>Number</label><input class=\"form-control input-sm\" id=auditinspection_code ng-model=criteria.auditinspection_code></div></div><div class=col-md-3><div class=form-group><label for=auditinspection_type>Activity</label><select ui-select2={allowClear:true} id=auditinspection_type class=\"form-control input-sm\" ng-model=criteria.auditinspection_type><option></option><option ng-repeat=\"v in valuelists.auditinspectiontype\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=personnel_user_id>Participants from NEMA</label><select ui-select2={allowClear:true} id=personnel_user_id class=\"form-control input-sm\" ng-model=criteria.personnel_user_id><option></option><option ng-repeat=\"v in valuelists.officer_audit_inspection\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=auditinspection_action_taken>Response</label><select ui-select2={allowClear:true} id=auditinspection_action_taken class=\"form-control input-sm\" ng-model=criteria.auditinspection_action_taken><option></option><option ng-repeat=\"v in valuelists.actiontaken\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=auditinspection_status>Status</label><select ui-select2={allowClear:true} id=auditinspection_status class=\"form-control input-sm\" ng-model=criteria.auditinspection_status><option></option><option ng-repeat=\"v in valuelists.auditinspectionstatus\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=auditinspection_performance_level>Performance level</label><select ui-select2={allowClear:true} id=auditinspection_performance_level class=\"form-control input-sm\" ng-model=criteria.auditinspection_performance_level><option></option><option ng-repeat=\"v in valuelists.grade\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-12><button type=submit class=\"btn btn-primary\">Search</button> <button type=button class=\"btn btn-link\" ng-click=reset()>Reset search criteria</button> <button type=button class=\"btn btn-success pull-right\" ng-show=showResultGrid ng-click=exportAuditAndInspectionResults(gridOptions.data)>Export to excel</button></div></div></form></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isSearching><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=showResultGrid><div class=col-md-12><div ui-grid=gridOptions ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class=result-grid></div></div></div></div>"
  );


  $templateCache.put('partials/searchEiasPermits.html',
    "<div class=search-eiasandpermits><div class=row><div class=col-md-12><form ng-submit=setSearchUrl()><div class=row><div class=col-md-3><div class=form-group><label for=eiapermit_status>Status</label><select ui-select2={allowClear:true} id=eiapermit_status class=\"form-control input-sm\" ng-model=criteria.eiapermit_status set-focus><option></option><option ng-repeat=\"v in valuelists.eiastatus\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document_title>Document title</label><input class=\"form-control input-sm\" id=document_title ng-model=criteria.document_title></div></div><div class=col-md-3><div class=form-group><label for=document_type>Document type</label><select ui-select2={allowClear:true} id=document_type class=\"form-control input-sm\" ng-model=criteria.document_type><option></option><option ng-repeat=\"v in valuelists.documenttype\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document_code>Document code or listed No.</label><input class=\"form-control input-sm\" id=document_code ng-model=criteria.document_code></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document_year>Submission year</label><input class=\"form-control input-sm\" id=document_year ng-model=criteria.document_year></div></div><div class=col-md-3><div class=form-group><label for=personnel_user_id>Participants from NEMA</label><select ui-select2={allowClear:true} id=personnel_user_id class=\"form-control input-sm\" ng-model=criteria.personnel_user_id><option></option><option ng-repeat=\"v in valuelists.officer_eia_permit\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=eiapermit_id>EIA ID</label><input class=\"form-control input-sm\" id=eiapermit_id ng-model=criteria.eiapermit_id></div></div><div class=col-md-3><div class=form-group><label for=eiapermit_certificate_no>Certificate No.</label><input class=\"form-control input-sm\" id=eiapermit_certificate_no ng-model=criteria.eiapermit_certificate_no></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=eiapermit_date_submission_from>Submission date from</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerSearchController><input id=eiapermit_date_submission_from class=\"form-control input-sm input-date\" ng-model=dateCriteria.eiapermit_date_submission_from data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=eiapermit_date_submission_to>Submission date to</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerSearchController><input id=eiapermit_date_submission_to class=\"form-control input-sm input-date\" ng-model=dateCriteria.eiapermit_date_submission_to data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=category_id>Category of project</label><select ui-select2={allowClear:true} id=category_id class=\"form-control input-sm\" ng-model=criteria.category_id><option></option><option ng-repeat=\"v in valuelists.category\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-12><button type=submit class=\"btn btn-primary\">Search</button> <button type=button class=\"btn btn-link\" ng-click=reset()>Reset search criteria</button> <button type=button class=\"btn btn-success pull-right\" ng-show=showResultGrid ng-click=exportEiasPermits(gridOptions.data)>Export to excel</button></div></div></form></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isSearching><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=showResultGrid><div class=col-md-12><div ui-grid=gridOptions ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class=result-grid></div></div></div></div>"
  );


  $templateCache.put('partials/searchExternalAudits.html',
    "<div class=search-externalaudits><div class=row><div class=col-md-12><form ng-submit=setSearchUrl()><div class=row><div class=col-md-3><div class=form-group><label for=document_title>Document title</label><input class=\"form-control input-sm\" id=document_title ng-model=criteria.document_title></div></div><div class=col-md-3><div class=form-group><label for=document_type>Document type</label><select ui-select2={allowClear:true} id=document_type class=\"form-control input-sm\" ng-model=criteria.document_type><option></option><option ng-repeat=\"v in valuelists.documenttypeexternalaudits\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=document_code>Document code or listed No.</label><input class=\"form-control input-sm\" id=document_code ng-model=criteria.document_code></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=document_year>Submission year</label><input class=\"form-control input-sm\" id=document_year ng-model=criteria.document_year></div></div><div class=col-md-3><div class=form-group><label for=personnel_user_id>Participants from NEMA</label><select ui-select2={allowClear:true} id=personnel_user_id class=\"form-control input-sm\" ng-model=criteria.personnel_user_id><option></option><option ng-repeat=\"v in valuelists.officer_eia_permit\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=externalaudit_id>External audit ID</label><input class=\"form-control input-sm\" id=externalaudit_id ng-model=criteria.externalaudit_id></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=externalaudit_date_submission_from>Submission date from</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerSearchController><input id=externalaudit_date_submission_from class=\"form-control input-sm input-date\" ng-model=dateCriteria.externalaudit_date_submission_from data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=externalaudit_date_submission_to>Submission date to</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerSearchController><input id=externalaudit_date_submission_to class=\"form-control input-sm input-date\" ng-model=dateCriteria.externalaudit_date_submission_to data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=category_id>Category of project</label><select ui-select2={allowClear:true} id=category_id class=\"form-control input-sm\" ng-model=criteria.category_id><option></option><option ng-repeat=\"v in valuelists.category\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-12><button type=submit class=\"btn btn-primary\">Search</button> <button type=button class=\"btn btn-link\" ng-click=reset()>Reset search criteria</button> <button type=button class=\"btn btn-success pull-right\" ng-show=showResultGrid ng-click=exportExternalAuditResults(gridOptions.data)>Export to excel</button></div></div></form></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isSearching><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=showResultGrid><div class=col-md-12><div ui-grid=gridOptions ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class=result-grid></div></div></div></div>"
  );


  $templateCache.put('partials/searchPermitsLicenses.html',
    "<div class=search-eiasandpermits><div class=row><div class=col-md-12><form name=parts.form ng-submit=setSearchUrl()><div class=row><div class=col-md-3><div class=form-group><label for=permitlicense_regulation>Regulation</label><select ui-select2={allowClear:true} id=permitlicense_regulation class=\"form-control input-sm\" ng-model=criteria.permitlicense_regulation><option></option><option ng-repeat=\"v in valuelists.permit_license_regulations\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=permitlicense_waste_license_type>Waste license type</label><select ui-select2={allowClear:true} id=permitlicense_waste_license_type class=\"form-control input-sm\" ng-model=criteria.permitlicense_waste_license_type ng-disabled=\"isDisabled('permitlicense_waste_license_type')\"><option></option><option ng-repeat=\"v in valuelists.permit_license_waste_license_type\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=permitlicense_ecosystem>Ecosystem</label><select ui-select2={allowClear:true} id=permitlicense_ecosystem class=\"form-control input-sm\" ng-model=criteria.permitlicense_ecosystem ng-disabled=\"isDisabled('permitlicense_ecosystem')\"><option></option><option ng-repeat=\"v in valuelists.permit_license_ecosystem\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=permitlicense_regulation_activity>Regulation activities</label><select ui-select2={allowClear:true} id=permitlicense_regulation_activity class=\"form-control input-sm\" ng-model=criteria.permitlicense_regulation_activity ng-disabled=\"isDisabled('permitlicense_regulation_activity')\"><option></option><option ng-repeat=\"v in valuelists.permit_license_regulation_activity_wetland\" value={{v.id}}>{{v.description1}}</option></select></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=permitlicense_application_number>Application number</label><input integer class=\"form-control input-sm\" id=permitlicense_application_number ng-model=criteria.permitlicense_application_number></div></div><div class=col-md-3><div class=form-group><label for=personnel_user_id>Participants from NEMA</label><select ui-select2={allowClear:true} id=personnel_user_id class=\"form-control input-sm\" ng-model=criteria.personnel_user_id><option></option><option ng-repeat=\"v in valuelists.officer_eia_permit\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=permitlicense_id>Permit/license ID</label><input class=\"form-control input-sm\" id=permitlicense_id ng-model=criteria.permitlicense_id></div></div><div class=col-md-3><div class=form-group><label for=permitlicense_permit_license_no>Permit/license number</label><input integer class=\"form-control input-sm\" id=permitlicense_permit_license_no ng-model=criteria.permitlicense_permit_license_no></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=permitlicense_date_submission_from>Submission date from</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerSearchController><input id=permitlicense_date_submission_from class=\"form-control input-sm input-date\" ng-model=dateCriteria.permitlicense_date_submission_from data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div><div class=col-md-3><div class=form-group><label for=permitlicense_date_submission_to>Submission date to</label><div class=\"input-group container-datepicker\" ng-controller=DatePickerSearchController><input id=permitlicense_date_submission_to class=\"form-control input-sm input-date\" ng-model=dateCriteria.permitlicense_date_submission_to data-datepicker-popup=\"d MMM yyyy\" data-is-open=opened data-datepicker-options=datepickerOptions data-show-button-bar=false> <span class=input-group-btn><button type=button class=\"btn btn-default btn-sm\" ng-click=open($event)><span class=\"glyphicon glyphicon-calendar\"></span></button></span></div></div></div></div><div class=row><div class=col-md-12><button type=submit class=\"btn btn-primary\">Search</button> <button type=button class=\"btn btn-link\" ng-click=reset()>Reset search criteria</button> <button type=button class=\"btn btn-success pull-right\" ng-show=showResultGrid ng-click=exportPermitsLicensesResults(gridOptions.data)>Export to excel</button></div></div></form></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isSearching><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=showResultGrid><div class=col-md-12><div ui-grid=gridOptions ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class=result-grid></div></div></div></div>"
  );


  $templateCache.put('partials/searchProjects.html',
    "<div class=search-auditsandinspections><div class=row><div class=col-md-12><form ng-submit=setSearchUrl()><div class=row><div class=col-md-3><div class=form-group><label for=project_title>Project name</label><input class=\"form-control input-sm\" id=project_title ng-model=criteria.project_title set-focus></div></div><div class=col-md-3><div class=form-group><label for=district_id>Project district</label><select ui-select2={allowClear:true} id=district_id class=\"form-control input-sm\" ng-model=criteria.district_id><option></option><option ng-repeat=\"v in valuelists.district\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=category_id>Category of project</label><select ui-select2={allowClear:true} id=category_id class=\"form-control input-sm\" ng-model=criteria.category_id><option></option><option ng-repeat=\"v in valuelists.category\" value={{v.id}}>{{v.description1}}</option></select></div></div><div class=col-md-3><div class=form-group><label for=developer_name>Developer name, ID or TIN</label><input class=\"form-control input-sm\" id=developer_name ng-model=criteria.developer_name></div></div></div><div class=row><div class=col-md-3><div class=form-group><label for=project_location>Project location</label><input class=\"form-control input-sm\" id=project_location ng-model=criteria.project_location></div></div><div class=col-md-3><div class=form-group><label for=project_id>Project ID</label><input class=\"form-control input-sm\" id=project_id ng-model=criteria.project_id></div></div></div><div class=row><div class=col-md-12><button type=submit class=\"btn btn-primary\">Search</button> <button type=button class=\"btn btn-link\" ng-click=reset()>Reset search criteria</button> <button type=button class=\"btn btn-success pull-right\" ng-show=showResultGrid ng-click=exportProjects(gridOptions.data)>Export to excel</button></div></div></form></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row ng-show=isSearching><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div class=row ng-show=showResultGrid><div class=col-md-12><div ui-grid=gridOptions ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class=result-grid></div></div></div></div>"
  );


  $templateCache.put('partials/searchTabs.html',
    "<div class=search><ul class=\"nav nav-tabs\" role=tablist><li ng-class=\"{active: tab==SearchTabEnum.Projects}\"><a ng-href=#/search/projects>Project</a></li><li ng-class=\"{active: tab==SearchTabEnum.EiasPermits}\"><a href=#/search/eiaspermits>EIA</a></li><li ng-class=\"{active: tab==SearchTabEnum.PermitsLicenses}\"><a href=#/search/permitslicenses>Permit and License</a></li><li ng-class=\"{active: tab==SearchTabEnum.AuditsInspections}\"><a href=#/search/auditsinspections>Audit and Inspection</a></li><li ng-class=\"{active: tab==SearchTabEnum.ExternalAudits}\"><a href=#/search/externalaudits>External audit</a></li></ul><div ng-if=\"tab==SearchTabEnum.Projects\"><div ng-controller=SearchProjectsController ng-include=\"'partials/searchProjects.html'\"></div></div><div ng-if=\"tab==SearchTabEnum.EiasPermits\"><div ng-controller=SearchEiasPermitsController ng-include=\"'partials/searchEiasPermits.html'\"></div></div><div ng-if=\"tab==SearchTabEnum.PermitsLicenses\"><div ng-controller=SearchPermitsLicensesController ng-include=\"'partials/searchPermitsLicenses.html'\"></div></div><div ng-if=\"tab==SearchTabEnum.AuditsInspections\"><div ng-controller=SearchAuditsInspectionsController ng-include=\"'partials/searchAuditsInspections.html'\"></div></div><div ng-if=\"tab==SearchTabEnum.ExternalAudits\"><div ng-controller=SearchExternalAuditsController ng-include=\"'partials/searchExternalAudits.html'\"></div></div></div>"
  );


  $templateCache.put('partials/statisticsProjects.html',
    "<div class=statistics-projects><div class=row ng-show=isLoadingData><div class=col-md-12><div class=\"loader-standalone center-block\"></div></div></div><div ng-show=!isLoadingData><small class=pull-right>Last generated: {{data.timestamp | date:\"d MMM yyyy HH:mm:ss\"}}</small><p class=lead>{{data.intro.title}}</p><div class=row><div class=col-md-6><div class=row><div class=col-md-12><statistics-panel part=data.parts.categoryEiaYes></statistics-panel></div></div><div class=row><div class=col-md-12><statistics-panel part=data.parts.categoryEiaNo></statistics-panel></div></div></div><div class=col-md-6><div class=row><div class=col-md-12><statistics-panel part=data.parts.coordinates></statistics-panel></div></div><div class=row><div class=col-md-12><statistics-panel part=data.parts.wasteWater></statistics-panel></div></div><div class=row><div class=col-md-12><statistics-panel part=data.parts.developers></statistics-panel></div></div><div class=row><div class=col-md-12><statistics-panel part=data.parts.riskLevel></statistics-panel></div></div></div></div></div></div>"
  );


  $templateCache.put('partials/statisticsTablePanel.html',
    "<div class=\"panel panel-default\"><div class=panel-heading><h2 class=panel-title>{{part.title}}</h2></div><div class=panel-body><table class=\"table table-condensed\"><thead><tr><th>{{part.label1}}</th><th><div class=text-right>{{part.label2}}</div></th></tr></thead><tbody><tr ng-repeat=\"row in part.rows\"><td title={{row.id}}>{{row.description}}</td><td><div class=text-right><span ng-if=!row.search>{{row.count}}</span> <a ng-if=row.search ng-href=#/search/projects?{{row.search}}>{{row.count}}</a></div></td></tr></tbody></table></div></div>"
  );


  $templateCache.put('partials/statisticsTabs.html',
    "<div class=statistics><ul class=\"nav nav-tabs\" role=tablist><li ng-class=\"{active: tab==StatisticsTabEnum.Projects}\"><a ng-href=#/statistics/projects>Project</a></li></ul><div ng-if=\"tab==StatisticsTabEnum.Projects\"><div ng-controller=StatisticsProjectsController ng-include=\"'partials/statisticsProjects.html'\"></div></div><div ng-if=\"tab==StatisticsTabEnum.EiasPermits\">NOT IMPLEMENTED</div><div ng-if=\"tab==StatisticsTabEnum.AuditsInspections\">NOT IMPLEMENTED</div></div>"
  );


  $templateCache.put('partials/user.html',
    "<div class=top-header><h1>User profile</h1><p class=lead>This is the user profile for {{userinfo.info.name}}.</p></div><p>Change the password? Go to the <a href=#/password/send>reset password</a> page.</p><h3>Roles</h3><p ng-hide=userinfo.info.roles.length>No roles.</p><ul><li ng-repeat=\"role in userinfo.info.roles\">{{role.display_name}} ({{role.name}})</li></ul><div ng-if=userinfo.info.can_impersonate><h3>System manager</h3><p>As System manager, you may impersonate another user. This helps to verify that the different roles works as intended. If you impersonate a user that is not System manager, you have to sign out to be able to login as yourself again.</p><form class=form-horizontal role=form ng-init=userinfo.getAllUsers()><div class=form-group><label for=userid_to_impersonate class=\"col-sm-2 control-label\">Impersonate a user</label><div class=col-sm-3><select id=userid_to_impersonate ng-model=$parent.userid_to_impersonate ng-change=impersonate() class=\"form-control input-sm\" ng-options=\"u.id as u.name for u in userinfo.allusers | orderBy:'name'\"></select></div></div></form></div><br><button type=button class=\"btn btn-danger\" ng-click=userinfo.signout()>Sign out</button>"
  );

}]);

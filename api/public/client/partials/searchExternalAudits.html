<div class="search-externalaudits">

    <div class="row">
        <div class="col-md-12">

            <form ng-submit="setSearchUrl()">

                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select ui-select2="{allowClear:true}"
                                    id="status" class="form-control input-sm"
                                    ng-model="criteria.externalaudit_status">
                                <option></option>
                                <option ng-repeat="v in valuelists.eastatus" value="{{v.id}}">{{v.description1}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="document_title">Document title</label>
                            <input type="text" class="form-control input-sm" id="document_title" ng-model="criteria.document_title"/>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="document_type">Document type</label>
                            <select ui-select2="{allowClear:true}"
                                    id="document_type" class="form-control input-sm"
                                    ng-model="criteria.document_type">
                                <option></option>
                                <option ng-repeat="v in valuelists.documenttypeexternalaudits" value="{{v.id}}">{{v.description1}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="document_code">Document code or listed No.</label>
                            <input type="text" class="form-control input-sm" id="document_code" ng-model="criteria.document_code"/>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="document_year">Submission year</label>
                            <input type="text" class="form-control input-sm" id="document_year" ng-model="criteria.document_year"/>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="personnel_user_id">Participants from NEMA</label>
                            <select ui-select2="{allowClear:true}"
                                    id="personnel_user_id" class="form-control input-sm"
                                    ng-model="criteria.personnel_user_id">
                                <option></option>
                                <option ng-repeat="v in valuelists.officer_eia_permit" value="{{v.id}}" ng-class="{'dropdown-partition-bar': v.id == false, 'dropdown-inactive-item': (v.is_passive == 1 && v.id != false) }" >{{v.description1}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="externalaudit_id">External audit ID</label>
                            <input type="text" class="form-control input-sm" id="externalaudit_id" ng-model="criteria.externalaudit_id"/>
                        </div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="externalaudit_date_submission_from">Submission date from</label>
                            <div class="input-group container-datepicker" ng-controller="DatePickerSearchController">
                                <input type="text" id="externalaudit_date_submission_from" class="form-control input-sm input-date" ng-model="dateCriteria.externalaudit_date_submission_from" data-datepicker-popup="d MMM yyyy" data-is-open="opened" data-datepicker-options="datepickerOptions" data-show-button-bar="false"/>
                                <span class="input-group-btn">
                                  <button type="button" class="btn btn-default btn-sm" ng-click="open($event)"><span class="glyphicon glyphicon-calendar"></span>
                                  </button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="externalaudit_date_submission_to">Submission date to</label>
                            <div class="input-group container-datepicker" ng-controller="DatePickerSearchController">
                                <input type="text" id="externalaudit_date_submission_to" class="form-control input-sm input-date" ng-model="dateCriteria.externalaudit_date_submission_to" data-datepicker-popup="d MMM yyyy" data-is-open="opened" data-datepicker-options="datepickerOptions" data-show-button-bar="false"/>
                                <span class="input-group-btn">
                                  <button type="button" class="btn btn-default btn-sm" ng-click="open($event)"><span class="glyphicon glyphicon-calendar"></span>
                                  </button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="category_id">Category of project</label>
                            <select ui-select2="{allowClear:true}"
                                    id="category_id" class="form-control input-sm"
                                    ng-model="criteria.category_id">
                                <option></option>
                                <option ng-repeat="v in valuelists.category" value="{{v.id}}">{{v.description1}}</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row"> 
                    <div class="col-md-12">
                        <button type="submit" class="btn btn-primary">Search</button>
                        <button type="button" class="btn btn-link" ng-click="reset()">Reset search criteria</button>
                        <button type="button" class="btn btn-success pull-right" ng-show="showResultGrid" ng-click="exportExternalAuditResults(gridOptions.data)">Export to excel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <hr/>
        </div>
    </div>
    <div class="row" ng-show="isSearching">
        <div class="col-md-12">
            <div class="loader-standalone center-block"></div>
        </div>
    </div>
    <div class="row" ng-show="showResultGrid">
        <div class="col-md-12">
            <div ui-grid="gridOptions" ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class="result-grid"></div>
        </div>
    </div>

</div>